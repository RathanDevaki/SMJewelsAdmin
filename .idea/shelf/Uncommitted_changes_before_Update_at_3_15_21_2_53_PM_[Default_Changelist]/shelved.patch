Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/UserProfileFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Dashboard;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.bumptech.glide.Glide;\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport in.savitar.smjewelsadmin.Adapters.TransactionsAdapter;\nimport in.savitar.smjewelsadmin.ModalClasses.TransactionsModal;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentUserProfileBinding;\n\n\npublic class UserProfileFragment extends Fragment implements MainActivityContract.View {\n\n    FragmentUserProfileBinding mBinding;\n    MainActivityPresenter mPresenter;\n\n    String planName;\n    String setName;\n    String userKey;\n\n\n\n    public UserProfileFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_user_profile,container,false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n        mBinding.userNameDashboard.setText(getArguments().getString(\"Name\"));\n        mBinding.userIdDashboard.setText(getArguments().getString(\"ID\"));\n\n        planName = getArguments().getString(\"PlanName\");\n        userKey = getArguments().getString(\"UserKey\");\n\n        if (getArguments().getString(\"SetName\")!=null){\n            setName = getArguments().getString(\"SetName\");\n        }\n\n        mBinding.planNameProgress.setText(planName);\n\n        fetchBasicData();\n    }\n\n    private void fetchBasicData() {\n\n        if (planName.compareToIgnoreCase(\"PlanA\") == 0){\n            FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n            DatabaseReference databaseReference = firebaseDatabase.getReference();\n            databaseReference.child(planName).child(\"UsersList\").child(setName).child(userKey).addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if (getActivity() == null) {\n                        return;\n                    }\n\n                    if (snapshot.hasChild(\"ProfilePhoto\")){\n                        Glide\n                                .with(getActivity())\n                                .load(snapshot.child(\"ProfilePhoto\").getValue(String.class))\n                                .into(mBinding.userPhotoDashboard);\n                    } else {\n                        Glide\n                                .with(getActivity())\n                                .load(\"https://firebasestorage.googleapis.com/v0/b/sm-jewels.appspot.com/o/img_162044.png?alt=media&token=c5445416-61d0-4ea7-90e7-a77a5e65cd09\")\n                                .into(mBinding.userPhotoDashboard);\n                    }\n                    if (snapshot.hasChild(\"TotalMonths\")){\n                        long totalMonths = snapshot.child(\"TotalMonths\").getValue(Long.class);\n                        long completedMonths = snapshot.child(\"CompletedMonths\").getValue(Long.class);\n                        long percentageCompleted = (completedMonths*100)/totalMonths;\n                        int _completedPercentage = (int)percentageCompleted;\n\n                        mBinding.progressPercentage.setText(String.valueOf(_completedPercentage) + \"% Completed\");\n                        mBinding.planProgress.setProgress(_completedPercentage);\n\n                        mBinding.lastLoginDashboard.setText(\"Last login on \"+snapshot.child(\"LastLogin\").getValue(String.class));\n                        mBinding.progressPercentageMonths.setText(String.valueOf(completedMonths) + \"/\" + String.valueOf(totalMonths) + \" Months\");\n                    }\n\n\n\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n            final List<TransactionsModal> list = new ArrayList<>();\n            final TransactionsAdapter adapter = new TransactionsAdapter(getContext(),R.layout.single_transaction_list,list);\n            mBinding.transactionsList.setAdapter(adapter);\n\n            databaseReference.child(planName).child(\"UsersList\").child(setName).child(userKey).child(\"Transactions\")\n                    .addChildEventListener(new ChildEventListener() {\n                        @Override\n                        public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                            TransactionsModal modal = snapshot.getValue(TransactionsModal.class);\n                            list.add(modal);\n                            Collections.reverse(list);\n                            adapter.notifyDataSetChanged();\n                        }\n\n                        @Override\n                        public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n                        }\n\n                        @Override\n                        public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n\n                        }\n\n                        @Override\n                        public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n\n        }\n\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/UserProfileFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/UserProfileFragment.java	(date 1614344265000)
@@ -110,7 +110,7 @@
                         mBinding.progressPercentage.setText(String.valueOf(_completedPercentage) + "% Completed");
                         mBinding.planProgress.setProgress(_completedPercentage);
 
-                        mBinding.lastLoginDashboard.setText("Last login on "+snapshot.child("LastLogin").getValue(String.class));
+
                         mBinding.progressPercentageMonths.setText(String.valueOf(completedMonths) + "/" + String.valueOf(totalMonths) + " Months");
                     }
 
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/CollectorsInfoFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Collectors;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport in.savitar.smjewelsadmin.Adapters.TransactionsAdapter;\nimport in.savitar.smjewelsadmin.ModalClasses.TransactionsModal;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentCollectorsInfoBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;\n\n\npublic class CollectorsInfoFragment extends Fragment implements MainActivityContract.View{\n\n    FragmentCollectorsInfoBinding mBinding;\n    MainActivityPresenter mPresenter;\n\n    int collectedAmount = 0;\n\n\n\n    public CollectorsInfoFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_collectors_info,container,false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n        mBinding.collectorName.setText(getArguments().getString(\"Name\"));\n        mBinding.collectorID.setText(getArguments().getString(\"ID\"));\n\n        final List<TransactionsModal> list = new ArrayList<>();\n        final TransactionsAdapter adapter = new TransactionsAdapter(getContext(), R.layout.single_transaction_list, list);\n        mBinding.collectionsListView.setAdapter(adapter);\n\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n        DatabaseReference databaseReference = firebaseDatabase.getReference();\n        databaseReference.child(\"CollectorsInfo\").child(getArguments().getString(\"ID\")).child(\"Transactions\")\n                .addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        mBinding.totalTransactionsCount.setText(String.valueOf(snapshot.getChildrenCount()));\n                        collectedAmount = 0;\n                        adapter.clear();\n                        for (DataSnapshot ds : snapshot.getChildren()) {\n                            collectedAmount = collectedAmount + Integer.parseInt(snapshot.child(ds.getKey()).child(\"Amount\").getValue(String.class));\n                            TransactionsModal modal = ds.getValue(TransactionsModal.class);\n                            list.add(modal);\n                        }\n\n                        Collections.reverse(list);\n                        adapter.notifyDataSetChanged();\n                        mBinding.totalCollectedAmount.setText(\"Rs.\" + String.valueOf(collectedAmount) + \"/-\");\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/CollectorsInfoFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/CollectorsInfoFragment.java	(date 1615799147000)
@@ -9,6 +9,7 @@
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.Toast;
 
 import com.google.firebase.database.DataSnapshot;
 import com.google.firebase.database.DatabaseError;
@@ -20,12 +21,15 @@
 import java.util.Collections;
 import java.util.List;
 
+import es.dmoral.toasty.Toasty;
 import in.savitar.smjewelsadmin.Adapters.TransactionsAdapter;
 import in.savitar.smjewelsadmin.ModalClasses.TransactionsModal;
 import in.savitar.smjewelsadmin.R;
 import in.savitar.smjewelsadmin.databinding.FragmentCollectorsInfoBinding;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtil;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtilMain;
 
 
 public class CollectorsInfoFragment extends Fragment implements MainActivityContract.View{
@@ -63,6 +67,13 @@
 
         mBinding.collectorName.setText(getArguments().getString("Name"));
         mBinding.collectorID.setText(getArguments().getString("ID"));
+        mBinding.asignUsers.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                Toast.makeText(getContext(),"Toastyy",Toast.LENGTH_LONG).show();
+                NavigationUtilMain.INSTANCE.toAssignCustomer();
+            }
+        });
 
         final List<TransactionsModal> list = new ArrayList<>();
         final TransactionsAdapter adapter = new TransactionsAdapter(getContext(), R.layout.single_transaction_list, list);
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/utils/NavigationUtilMain.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.utils;\n\nimport android.annotation.SuppressLint;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.databinding.ViewDataBinding;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\n\nimport java.lang.ref.WeakReference;\n\nimport in.savitar.smjewelsadmin.databinding.ActivityMainBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Collectors.ScanCollectorFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.CreateUserFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.HomeFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.PlanA.PlanASetFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.PlanUserFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.ScanFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.UserCardFragment;\n\npublic enum NavigationUtilMain {\n\n    @SuppressLint(\"StaticFieldLeak\")\n    INSTANCE;\n\n    private FragmentManager mFragMngr;\n    private ViewDataBinding mBinding;\n    private AppCompatActivity mActivity;\n    private static WeakReference<AppCompatActivity> actRef = new WeakReference<>(null);\n\n    public AppCompatActivity getActivity() {\n        final AppCompatActivity activity = actRef.get();\n        return activity;\n    }\n\n    public void setupNavigator(AppCompatActivity activity,\n                               ActionBar actionBar,\n                               ViewDataBinding binding,\n                               ActionBarDrawerToggle actionBarDrawerToggle) {\n        actRef = new WeakReference<>(activity);\n        if (activity instanceof AppCompatActivity) {\n            AppCompatActivity fragmentActivity = activity;\n            mFragMngr = fragmentActivity.getSupportFragmentManager();\n        }\n        mActivity = activity;\n        this.mBinding = binding;\n    }\n\n    private void addFragment(Fragment fragment,\n                             String tag,\n                             boolean addToBackStack) {\n        if (mFragMngr == null) {\n            return;\n        }\n        try {\n            FragmentTransaction transaction = mFragMngr.beginTransaction();\n            //transaction.setCustomAnimations(R.anim.animation_right_in, R.anim.animation_left_out, R.anim.animation_right_in, R.anim.animation_left_out);\n\n            if (mBinding instanceof ActivityMainBinding)\n                transaction.replace(((ActivityMainBinding) mBinding).mainContainer.getId(), fragment, tag);\n            if (addToBackStack)\n                transaction.addToBackStack(tag);\n            transaction.commitAllowingStateLoss();\n        } catch (Exception e) {\n            // Logger.e(Logger.TAG, e.getMessage());\n        }\n    }\n\n    public void setUpHomeScreen() {\n        addFragment(new HomeFragment(), HomeFragment.class.getSimpleName(),false);\n    }\n\n    public void toPlanUserFragment()\n    {\n        addFragment(new PlanUserFragment(),PlanUserFragment.class.getSimpleName(),true);\n    }\n\n    public void toScanFragment(){\n        addFragment(new ScanFragment(),ScanFragment.class.getSimpleName(),false);\n    }\n\n    public void toCollectorsScanFragment(){\n        addFragment(new ScanCollectorFragment(),ScanCollectorFragment.class.getSimpleName(),false);\n    }\n\n    public void toUserCard() {\n        addFragment(new UserCardFragment(),UserCardFragment.class.getSimpleName(),false);\n    }\n\n    public void toCreateUser() {\n        addFragment(new CreateUserFragment(),CreateUserFragment.class.getSimpleName(),false);\n    }\n\n    public void toSetFragment(){\n        addFragment(new PlanASetFragment(),PlanASetFragment.class.getSimpleName(),true);\n    }\n\n\n\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/utils/NavigationUtilMain.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/utils/NavigationUtilMain.java	(date 1615799685000)
@@ -14,6 +14,7 @@
 import java.lang.ref.WeakReference;
 
 import in.savitar.smjewelsadmin.databinding.ActivityMainBinding;
+import in.savitar.smjewelsadmin.mvp.ui.Collectors.AssignCustomersFragment;
 import in.savitar.smjewelsadmin.mvp.ui.Collectors.ScanCollectorFragment;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.CreateUserFragment;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.HomeFragment;
@@ -80,19 +81,21 @@
     }
 
     public void toScanFragment(){
-        addFragment(new ScanFragment(),ScanFragment.class.getSimpleName(),false);
+        addFragment(new ScanFragment(),ScanFragment.class.getSimpleName(),true);
     }
 
     public void toCollectorsScanFragment(){
-        addFragment(new ScanCollectorFragment(),ScanCollectorFragment.class.getSimpleName(),false);
+        addFragment(new ScanCollectorFragment(),ScanCollectorFragment.class.getSimpleName(),true);
     }
-
+    public void toAssignCustomer() {
+        addFragment(new AssignCustomersFragment(),AssignCustomersFragment.class.getSimpleName(),true);
+    }
     public void toUserCard() {
         addFragment(new UserCardFragment(),UserCardFragment.class.getSimpleName(),false);
     }
 
     public void toCreateUser() {
-        addFragment(new CreateUserFragment(),CreateUserFragment.class.getSimpleName(),false);
+        addFragment(new CreateUserFragment(),CreateUserFragment.class.getSimpleName(),true);
     }
 
     public void toSetFragment(){
Index: app/src/main/res/layout/fragment_collectors_info.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\n\n    <ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:padding=\"16dp\">\n\n            <de.hdodenhof.circleimageview.CircleImageView\n                android:layout_width=\"84dp\"\n                android:layout_height=\"84dp\"\n                android:layout_gravity=\"center\"\n                android:layout_marginBottom=\"4dp\"\n                android:src=\"@drawable/ic_profile\"\n                android:id=\"@+id/collectorsPhoto\"/>\n\n            <TextView\n                android:id=\"@+id/collectorName\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Collector Name\"\n                android:textSize=\"18sp\"\n\n                android:layout_gravity=\"center_horizontal\"\n                android:fontFamily=\"@font/montserrat_bold\"\n                android:textColor=\"@color/colorPrimary\" />\n\n            <TextView\n                android:id=\"@+id/collectorID\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Collector ID\"\n                android:textSize=\"14sp\"\n                android:layout_marginBottom=\"16dp\"\n                android:layout_gravity=\"center_horizontal\"\n                android:fontFamily=\"@font/montserrat_medium\"\n                android:textColor=\"@color/black\" />\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"16dp\">\n\n                <androidx.cardview.widget.CardView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\"\n                    app:cardBackgroundColor=\"@color/colorPrimary\"\n                    app:cardCornerRadius=\"16dp\"\n                    android:layout_marginEnd=\"8dp\"\n                    app:cardElevation=\"0dp\">\n\n                    <LinearLayout\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"center\"\n                        android:padding=\"16dp\"\n                        android:orientation=\"vertical\">\n\n\n                        <TextView\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:text=\"Total Collections\\n\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:layout_gravity=\"center\"\n                            android:fontFamily=\"@font/montserrat_semi_bold\"\n                            android:textSize=\"14sp\" />\n\n                        <TextView\n                            android:id=\"@+id/total_transactions_count\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:text=\"24\"\n                            android:layout_gravity=\"center\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:layout_marginTop=\"8dp\"\n                            android:fontFamily=\"@font/montserrat_semi_bold\"\n                            android:textSize=\"18dp\" />\n\n\n                    </LinearLayout>\n\n                </androidx.cardview.widget.CardView>\n\n                <androidx.cardview.widget.CardView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\"\n                    app:cardBackgroundColor=\"@color/colorPrimary\"\n                    app:cardCornerRadius=\"16dp\"\n                    android:layout_marginStart=\"8dp\"\n                    app:cardElevation=\"0dp\">\n\n                    <LinearLayout\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"center\"\n                        android:padding=\"16dp\"\n                        android:orientation=\"vertical\">\n\n\n                        <TextView\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:text=\"Collected Amount\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:layout_gravity=\"center\"\n                            android:fontFamily=\"@font/montserrat_semi_bold\"\n                            android:textSize=\"14sp\" />\n\n                        <TextView\n                            android:id=\"@+id/total_collected_amount\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:text=\"24\"\n                            android:layout_gravity=\"center\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:layout_marginTop=\"8dp\"\n                            android:fontFamily=\"@font/montserrat_semi_bold\"\n                            android:textSize=\"18dp\" />\n\n\n                    </LinearLayout>\n\n                </androidx.cardview.widget.CardView>\n\n\n            </LinearLayout>\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Collection History\"\n                android:textSize=\"16sp\"\n                android:layout_marginTop=\"16dp\"\n                android:fontFamily=\"@font/montserrat_bold\"\n                android:textColor=\"@color/black\" />\n\n            <in.savitar.smjewelsadmin.mvp.utils.NonScrollingListView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"16dp\"\n                android:id=\"@+id/collections_list_view\"\n                android:divider=\"@null\"\n                android:scrollbars=\"none\" />\n\n        </LinearLayout>\n\n    </ScrollView>\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_collectors_info.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_collectors_info.xml	(date 1615466018000)
@@ -21,6 +21,7 @@
                 android:src="@drawable/ic_profile"
                 android:id="@+id/collectorsPhoto"/>
 
+
             <TextView
                 android:id="@+id/collectorName"
                 android:layout_width="wrap_content"
@@ -43,6 +44,21 @@
                 android:fontFamily="@font/montserrat_medium"
                 android:textColor="@color/black" />
 
+            <Button
+                android:id="@+id/asign_users"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_marginTop="8dp"
+                android:layout_marginBottom="8dp"
+                android:layout_gravity="center"
+                android:background="@drawable/button_rounded_corners_blue"
+                android:fontFamily="@font/montserrat_bold"
+                android:padding="16dp"
+                android:text="Assign Customes"
+                android:textAllCaps="false"
+                android:textColor="@color/colorWhite"
+                android:visibility="visible" />
+
             <LinearLayout
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Account/AddAdminFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Account;\n\nimport android.app.Dialog;\nimport android.os.Bundle;\n\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.DialogFragment;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.HashMap;\n\nimport es.dmoral.toasty.Toasty;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentAddAdminBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;\n\n\npublic class AddAdminFragment extends DialogFragment implements MainActivityContract.View {\n\n    FragmentAddAdminBinding mBinding;\n    MainActivityPresenter mPresenter;\n\n\n    public AddAdminFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_add_admin, container, false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n\n        mBinding.signUpAdmin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                createAdmin();\n            }\n        });\n\n\n    }\n\n    private void createAdmin() {\n\n        if (mBinding.adminIdSignup.getText().toString().compareToIgnoreCase(\"\") == 0){\n            Toasty.error(getContext(),\"Enter ID\").show();\n        } else if (mBinding.adminNameSignUp.getText().toString().compareToIgnoreCase(\"\") == 0) {\n            Toasty.error(getContext(),\"Enter Name\").show();\n        } else if (mBinding.adminPhoneSignUp.getText().toString().compareToIgnoreCase(\"\") == 0){\n            Toasty.error(getContext(),\"Enter Phone\").show();\n        } else {\n            FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n            DatabaseReference databaseReference = firebaseDatabase.getReference().child(\"AdminInfo\");\n\n            HashMap<String,String> adminMap = new HashMap<>();\n            adminMap.put(\"Name\",mBinding.adminNameSignUp.getText().toString());\n            adminMap.put(\"Phone\",mBinding.adminPhoneSignUp.getText().toString());\n\n            databaseReference.child(mBinding.adminIdSignup.getText().toString()).setValue(adminMap);\n\n            Toasty.success(getContext(),\"Admin Created Successfully\").show();\n\n            dismiss();\n\n        }\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        Dialog dialog = getDialog();\n        if (dialog != null) {\n            int width = ViewGroup.LayoutParams.MATCH_PARENT;\n            int height = ViewGroup.LayoutParams.WRAP_CONTENT;\n            dialog.getWindow().setLayout(width, height);\n        }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Account/AddAdminFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Account/AddAdminFragment.java	(date 1615709341000)
@@ -1,20 +1,29 @@
 package in.savitar.smjewelsadmin.mvp.ui.Account;
 
 import android.app.Dialog;
+import android.graphics.drawable.Drawable;
 import android.os.Bundle;
 
+import androidx.annotation.NonNull;
 import androidx.databinding.DataBindingUtil;
 import androidx.fragment.app.DialogFragment;
 import androidx.fragment.app.Fragment;
 
+import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
 
+import java.text.SimpleDateFormat;
+import java.util.Date;
 import java.util.HashMap;
+import java.util.Locale;
 
 import es.dmoral.toasty.Toasty;
 import in.savitar.smjewelsadmin.R;
@@ -27,8 +36,16 @@
 
     FragmentAddAdminBinding mBinding;
     MainActivityPresenter mPresenter;
-
-
+    String winner1 = null, winner2 = null, photo1 = null, photo2 = null;
+    String[] winnerID=new String[2];
+    String[] winnerName = new String[2];
+    String[] winnerPlan = new String[2];
+    String[] winnerSet = new String[2];
+    String[] winnerPhoto = new String[2];
+    String monthYear="";
+    String drawOne="";
+    String drawTwo="";
+    int flag=0;
     public AddAdminFragment() {
         // Required empty public constructor
     }
@@ -51,46 +68,139 @@
         init();
         return mBinding.getRoot();
     }
+    private void progressVisible()
+    {
+        mBinding.addDrawWinner.setVisibility(View.GONE);
+        mBinding.progressBar.setVisibility(View.VISIBLE);
 
+    }
+    private void progressGone()
+    { mBinding.drawWinnerOne.setBackgroundResource(R.drawable.edittext_grey_border);
+        mBinding.drawWinnerTwo.setBackgroundResource(R.drawable.edittext_grey_border);
+        mBinding.addDrawWinner.setVisibility(View.VISIBLE);
+        mBinding.progressBar.setVisibility(View.GONE);
+    }
     private void init() {
 
-
-        mBinding.signUpAdmin.setOnClickListener(new View.OnClickListener() {
+        monthYear=getDateAndTime();
+        mBinding.drawWinnerDate.setText(monthYear);
+        mBinding.addDrawWinner.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                createAdmin();
+                progressVisible();
+                drawOne=mBinding.drawWinnerOne.getText().toString();
+                drawTwo=mBinding.drawWinnerTwo.getText().toString();
+                Log.v("Dr1",drawOne);
+                pushDrawWinners();
             }
         });
 
 
     }
+    private String getDateAndTime() {
+
+        SimpleDateFormat sdf = new SimpleDateFormat("MMMM yyyy", Locale.getDefault());
+        String currentDateandTime = sdf.format(new Date());
+        Log.v("Month date",currentDateandTime);
+        return currentDateandTime;
+    }
+    public void pushDrawWinners() {
+
+        final FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
+        final DatabaseReference databaseReference2 = firebaseDatabase.getReference().child("UsersList");
+        final DatabaseReference databaseReference = firebaseDatabase.getReference().child("PlanA");
+
+
+        if (mBinding.drawWinnerOne.getText().toString().compareToIgnoreCase("") == 0) {
+            //  Toasty.error(getContext(),"Enter Winner 1").show();
+            mBinding.drawWinnerOne.setError("Enter Winner1 ID");
+            mBinding.drawWinnerOne.setBackgroundResource(R.drawable.edittext_red_border);
+            progressGone();
+        } else if (mBinding.drawWinnerTwo.getText().toString().compareToIgnoreCase("") == 0) {
+            // Toasty.error(getContext(),"Enter Winner 2").show();
+            mBinding.drawWinnerTwo.setError("Enter Winner2 ID");
+            mBinding.drawWinnerTwo.setBackgroundResource(R.drawable.edittext_red_border);
+            progressGone();
+        } else {
+            flag=1;
+        }
+        if(flag==1){
+            databaseReference2.addListenerForSingleValueEvent(new ValueEventListener() {
+                @Override
+                public void onDataChange(@NonNull DataSnapshot snapshot) {
+                    if (snapshot.hasChild(drawOne) && snapshot.hasChild(drawTwo))
+                    {
+                        winnerID[0] = snapshot.child(drawOne).child("UserID").getValue(String.class);
+                        winnerID[1] = snapshot.child(drawTwo).child("UserID").getValue(String.class);
+
+                        winnerPlan[0] = snapshot.child(drawOne).child("PlanName").getValue(String.class);
+                        winnerPlan[1] = snapshot.child(drawTwo).child("PlanName").getValue(String.class);
 
-    private void createAdmin() {
+                        winnerSet[0] = snapshot.child(drawOne).child("SetName").getValue(String.class);
+                        winnerSet[1] = snapshot.child(drawTwo).child("SetName").getValue(String.class);
+                        Log.v("Winner Plan", winnerID[0] + "--" + winnerID[1]);
+                        Log.v("Winner Plan", winnerPlan[0] + "--" + winnerPlan[1]);
+                        Log.v("Winner Set", winnerSet[0] + "--" + winnerSet[1]);
 
-        if (mBinding.adminIdSignup.getText().toString().compareToIgnoreCase("") == 0){
-            Toasty.error(getContext(),"Enter ID").show();
-        } else if (mBinding.adminNameSignUp.getText().toString().compareToIgnoreCase("") == 0) {
-            Toasty.error(getContext(),"Enter Name").show();
-        } else if (mBinding.adminPhoneSignUp.getText().toString().compareToIgnoreCase("") == 0){
-            Toasty.error(getContext(),"Enter Phone").show();
-        } else {
-            FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
-            DatabaseReference databaseReference = firebaseDatabase.getReference().child("AdminInfo");
+
+                        if (winnerPlan[0].compareToIgnoreCase("PlanA") != 0) {
+                            Toasty.error(getContext(), "1'st winner is not belongs to Plan-A").show();
+                            mBinding.drawWinnerOne.setBackgroundResource(R.drawable.edittext_red_border);
+                            progressGone();
+                        } else if (winnerPlan[1].compareToIgnoreCase("PlanA") != 0) {
+                            Toasty.error(getContext(), "2'nd winner is not belongs to Plan-A").show();
+                            mBinding.drawWinnerTwo.setBackgroundResource(R.drawable.edittext_red_border);
+                            progressGone();
+                        } else {
+                            DatabaseReference databaseReference3 = firebaseDatabase.getReference().child("PlanA").child("UsersList").child("Set1");//.child(winnerSet[0]);
 
-            HashMap<String,String> adminMap = new HashMap<>();
-            adminMap.put("Name",mBinding.adminNameSignUp.getText().toString());
-            adminMap.put("Phone",mBinding.adminPhoneSignUp.getText().toString());
+                            databaseReference3.addListenerForSingleValueEvent(new ValueEventListener() {
+                                @Override
+                                public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                    Log.v("oh god", "godd");
+                                    winnerName[0] = snapshot.child(winnerID[0]).child("Name").getValue(String.class);
+                                    winnerName[1] = snapshot.child(winnerID[1]).child("Name").getValue(String.class);
+                                    winnerPhoto[0] = snapshot.child(winnerID[0]).child("ProfilePhoto").getValue(String.class);
+                                    winnerPhoto[1] = snapshot.child(winnerID[1]).child("ProfilePhoto").getValue(String.class);
+                                    Log.v("Winner name 1 & two", winnerName[0] + "--" + winnerName[1]);
 
-            databaseReference.child(mBinding.adminIdSignup.getText().toString()).setValue(adminMap);
+                                    final String pushKey = databaseReference2.push().getKey();
+                                    HashMap<String, String> winnersMap = new HashMap<>();
+                                    winnersMap.put("UserID1", drawOne);
+                                    winnersMap.put("UserID2", drawTwo);
+                                    winnersMap.put("Month", monthYear);
+                                    winnersMap.put("Winner1", winnerName[0]);
+                                    winnersMap.put("Winner2", winnerName[1]);
+                                    winnersMap.put("Photo1", winnerPhoto[0]);
+                                    winnersMap.put("Photo2", winnerPhoto[1]);
+                                    databaseReference.child("DrawWinners").child(pushKey).setValue(winnersMap);
 
-            Toasty.success(getContext(),"Admin Created Successfully").show();
-
-            dismiss();
+                                    Toasty.success(getContext(), "Draw Winners Added Successfully").show();
+                                    progressVisible();
+                                    dismiss();
 
-        }
+                                }
 
+                                @Override
+                                public void onCancelled(@NonNull DatabaseError error) {
+
+                                }
+                            });
+                        }
+                    }
+                    else
+                    {
+                        Toasty.error(getContext(),"Invalid User ID",Toasty.LENGTH_LONG).show();
+                        progressGone();
+                    }
+                }
+                @Override
+                public void onCancelled(@NonNull DatabaseError error) {
+                    throw error.toException();
+                }
+            });
+        }
     }
-
     @Override
     public void onSuccess() {
 
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/ScanFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Dashboard;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.budiyev.android.codescanner.CodeScanner;\nimport com.budiyev.android.codescanner.DecodeCallback;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.zxing.Result;\n\nimport es.dmoral.toasty.Toasty;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentScanBinding;\n\n\npublic class ScanFragment extends Fragment implements MainActivityContract.View {\n\n    MainActivityPresenter mPresenter;\n    FragmentScanBinding mBinding;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n\n    public ScanFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_scan,container,false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n        initiliazeScanner();\n    }\n\n    private void initiliazeScanner() {\n\n        final CodeScanner mCodeScanner = new CodeScanner(getContext(),mBinding.scannerView);\n        mCodeScanner.setDecodeCallback(new DecodeCallback() {\n            @Override\n            public void onDecoded(@NonNull final Result result) {\n                getActivity().runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\n                        mCodeScanner.stopPreview();\n                        fetchData(result.getText());\n                    }\n                });\n            }\n        });\n\n        mCodeScanner.startPreview();\n\n    }\n\n    private void fetchData(final String text) {\n\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference();\n        databaseReference.child(\"UsersList\").addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.hasChild(text)){\n                    //Toasty.success(getContext(), \"Hello\").show();\n                    String userID = snapshot.child(text).child(\"UserID\").getValue(String.class);\n                    String planName = snapshot.child(text).child(\"PlanName\").getValue(String.class);\n                    String phone = snapshot.child(text).child(\"Phone\").getValue(String.class);\n\n                    Bundle args = new Bundle();\n\n                    if (planName.compareToIgnoreCase(\"PlanA\") == 0) {\n                        String setName = snapshot.child(text).child(\"SetName\").getValue(String.class);\n                        args.putString(\"SetName\", setName);\n                    }\n\n                    Toasty.success(getActivity(),\"JHello \"+ userID);\n\n//                    CreateTransactionDialogFragment dialogFragment = new CreateTransactionDialogFragment();\n//                    FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();\n//                    args.putString(\"UserID\", userID);\n//                    args.putString(\"PlanName\", planName);\n//                    args.putString(\"Phone\", phone);\n//                    args.putString(\"ID\", text);\n//                    dialogFragment.setArguments(args);\n//                    Fragment prev = getActivity().getSupportFragmentManager().findFragmentByTag(\"dialog\");\n//                    if (prev != null) {\n//                        ft.remove(prev);\n//                }\n//                ft.addToBackStack(null);\n//                dialogFragment.show(ft, \"dialog\");\n                }\n                else {\n                    Toasty.error(getContext(),\"Invalid Code Scanned\").show();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/ScanFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/ScanFragment.java	(date 1615797077000)
@@ -87,7 +87,7 @@
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
                 if (snapshot.hasChild(text)){
-                    //Toasty.success(getContext(), "Hello").show();
+                    Toasty.success(getContext(), "Hello").show();
                     String userID = snapshot.child(text).child("UserID").getValue(String.class);
                     String planName = snapshot.child(text).child("PlanName").getValue(String.class);
                     String phone = snapshot.child(text).child("Phone").getValue(String.class);
@@ -97,23 +97,24 @@
                     if (planName.compareToIgnoreCase("PlanA") == 0) {
                         String setName = snapshot.child(text).child("SetName").getValue(String.class);
                         args.putString("SetName", setName);
+
                     }
 
                     Toasty.success(getActivity(),"JHello "+ userID);
 
-//                    CreateTransactionDialogFragment dialogFragment = new CreateTransactionDialogFragment();
-//                    FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();
-//                    args.putString("UserID", userID);
-//                    args.putString("PlanName", planName);
-//                    args.putString("Phone", phone);
-//                    args.putString("ID", text);
+/*                   CreateTransactionDialogFragment dialogFragment = new CreateTransactionDialogFragment();
+                   FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();
+                 args.putString("UserID", userID);
+                    args.putString("PlanName", planName);
+                   args.putString("Phone", phone);
+                    args.putString("ID", text);
 //                    dialogFragment.setArguments(args);
 //                    Fragment prev = getActivity().getSupportFragmentManager().findFragmentByTag("dialog");
 //                    if (prev != null) {
 //                        ft.remove(prev);
 //                }
 //                ft.addToBackStack(null);
-//                dialogFragment.show(ft, "dialog");
+//                dialogFragment.show(ft, "dialog");*/
                 }
                 else {
                     Toasty.error(getContext(),"Invalid Code Scanned").show();
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/DialogFragments/CreateSetFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.DialogFragments;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\n\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.DialogFragment;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport in.savitar.smjewelsadmin.MainActivity;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentCreateSetBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;\nimport in.savitar.smjewelsadmin.mvp.utils.NavigationUtilMain;\n\n\npublic class CreateSetFragment extends DialogFragment implements MainActivityContract.View {\n\n   FragmentCreateSetBinding mBinding;\n   MainActivityPresenter mainActivityPresenter;\n\n   MainActivity activity;\n\n    public static final String MyPREFERENCES = \"MyPrefs\" ;\n\n    public CreateSetFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_create_set,container,false);\n        mainActivityPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n        activity = new MainActivity();\n\n        mBinding.createSetButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                createSet();\n            }\n        });\n\n    }\n\n    private void createSet() {\n\n        if (mBinding.setNameEdit.getText().toString().compareToIgnoreCase(\"\") != 0){\n            SharedPreferences sharedpreferences = getActivity().getSharedPreferences(MyPREFERENCES, Context.MODE_PRIVATE);\n            SharedPreferences.Editor editor = sharedpreferences.edit();\n            editor.putString(\"SetName\",mBinding.setNameEdit.getText().toString());\n            editor.commit();\n            NavigationUtilMain.INSTANCE.toCreateUser();\n           dismiss();\n        }\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        Dialog dialog = getDialog();\n        if (dialog != null) {\n            int width = ViewGroup.LayoutParams.MATCH_PARENT;\n            int height = ViewGroup.LayoutParams.WRAP_CONTENT;\n            dialog.getWindow().setLayout(width, height);\n        }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/DialogFragments/CreateSetFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/DialogFragments/CreateSetFragment.java	(date 1615464444000)
@@ -6,6 +6,7 @@
 import android.content.SharedPreferences;
 import android.os.Bundle;
 
+import androidx.annotation.NonNull;
 import androidx.databinding.DataBindingUtil;
 import androidx.fragment.app.DialogFragment;
 import androidx.fragment.app.Fragment;
@@ -14,11 +15,19 @@
 import android.view.View;
 import android.view.ViewGroup;
 
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+
+import es.dmoral.toasty.Toasty;
 import in.savitar.smjewelsadmin.MainActivity;
 import in.savitar.smjewelsadmin.R;
 import in.savitar.smjewelsadmin.databinding.FragmentCreateSetBinding;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtil;
 import in.savitar.smjewelsadmin.mvp.utils.NavigationUtilMain;
 
 
@@ -73,8 +82,33 @@
             SharedPreferences.Editor editor = sharedpreferences.edit();
             editor.putString("SetName",mBinding.setNameEdit.getText().toString());
             editor.commit();
-            NavigationUtilMain.INSTANCE.toCreateUser();
-           dismiss();
+            FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
+            final DatabaseReference databaseReference=firebaseDatabase.getReference().child("PlanA").child("UsersList");
+            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {
+                @Override
+                public void onDataChange(@NonNull DataSnapshot snapshot) {
+                    String setname=mBinding.setNameEdit.getText().toString();
+                    if(snapshot.hasChild(setname))
+                    {
+                        Toasty.error(getContext(),"Set Name Already Exists",Toasty.LENGTH_LONG).show();
+                        NavigationUtilMain.INSTANCE.toSetFragment();
+                    }
+                    else
+                    {
+                        databaseReference.child(setname).setValue("");
+                        Toasty.success(getContext(),"New Set Created Successfully",Toasty.LENGTH_LONG).show();
+                        NavigationUtil.INSTANCE.toMainActivity();
+
+                    }
+                }
+
+                @Override
+                public void onCancelled(@NonNull DatabaseError error) {
+
+                }
+            });
+
+
         }
 
     }
@@ -88,7 +122,6 @@
     public void onFailure() {
 
     }
-
     @Override
     public void onStart() {
         super.onStart();
Index: app/src/main/res/layout/fragment_create_collector.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorWhite\"\n        android:orientation=\"vertical\"\n        android:padding=\"16dp\">\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/montserrat_bold\"\n            android:text=\"Create Collector\"\n            android:textColor=\"@color/colorPrimary\"\n            android:textSize=\"36sp\" />\n\n        <de.hdodenhof.circleimageview.CircleImageView\n            android:layout_width=\"128dp\"\n            android:layout_height=\"128dp\"\n            android:layout_gravity=\"center_horizontal\"\n            android:layout_marginTop=\"36dp\"\n            android:src=\"@drawable/ic_account_circle\"\n            android:id=\"@+id/userPhotoCreateAccount\"/>\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Click to add photo\"\n            android:layout_gravity=\"center_horizontal\"\n            android:layout_marginTop=\"4dp\"\n            android:textSize=\"12sp\"/>\n\n        <EditText\n            android:id=\"@+id/collectorIdSignup\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"36dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:textSize=\"14sp\"\n            android:background=\"@drawable/edittext_grey_border\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:hint=\"ID\"\n            android:inputType=\"number\"\n            android:padding=\"16dp\"\n            android:textColor=\"@color/colorBlack\" />\n\n        <EditText\n            android:id=\"@+id/collectorNameSignUp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:textSize=\"14sp\"\n            android:background=\"@drawable/edittext_grey_border\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:hint=\"Name\"\n            android:inputType=\"textPersonName\"\n            android:padding=\"16dp\"\n            android:textColor=\"@color/colorBlack\" />\n\n        <EditText\n            android:id=\"@+id/collectorPhoneSignUp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:background=\"@drawable/edittext_grey_border\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:hint=\"Phone Number\"\n            android:textSize=\"14sp\"\n            android:maxLength=\"10\"\n            android:inputType=\"phone\"\n            android:padding=\"16dp\"\n            android:textColor=\"@color/colorBlack\" />\n\n        <Button\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Create Collector\"\n            android:textAllCaps=\"false\"\n            android:background=\"@drawable/button_rounded_corners_blue\"\n            android:textSize=\"16sp\"\n            android:textColor=\"@color/colorWhite\"\n            android:fontFamily=\"@font/montserrat_bold\"\n            android:id=\"@+id/signUpCollector\"\n            android:layout_marginTop=\"24dp\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginEnd=\"24dp\"/>\n\n\n    </LinearLayout>\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_create_collector.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_create_collector.xml	(date 1615710828000)
@@ -14,8 +14,16 @@
             android:fontFamily="@font/montserrat_bold"
             android:text="Create Collector"
             android:textColor="@color/colorPrimary"
-            android:textSize="36sp" />
-
+            android:textSize="32sp" />
+        <ScrollView
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:scrollbars="none"
+            android:background="@color/colorWhite">
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:orientation="vertical">
         <de.hdodenhof.circleimageview.CircleImageView
             android:layout_width="128dp"
             android:layout_height="128dp"
@@ -77,8 +85,46 @@
             android:inputType="phone"
             android:padding="16dp"
             android:textColor="@color/colorBlack" />
-
+        <EditText
+            android:id="@+id/collectorAddressSignUp"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginStart="24dp"
+            android:layout_marginTop="16dp"
+            android:layout_marginEnd="24dp"
+            android:background="@drawable/edittext_grey_border"
+            android:fontFamily="@font/montserrat_medium"
+            android:hint="Address"
+            android:textSize="14sp"
+            android:inputType="textPostalAddress"
+            android:padding="16dp"
+            android:textColor="@color/colorBlack" />
+        <EditText
+            android:id="@+id/collectorAadharSignUp"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginStart="24dp"
+            android:layout_marginTop="16dp"
+            android:layout_marginEnd="24dp"
+            android:background="@drawable/edittext_grey_border"
+            android:fontFamily="@font/montserrat_medium"
+            android:hint="Aadhar Number"
+            android:textSize="14sp"
+            android:maxLength="12"
+            android:inputType="number"
+            android:padding="16dp"
+            android:textColor="@color/colorBlack" />
+                <ProgressBar
+                    android:id="@+id/progress_bar"
+                    style="?android:attr/progressBarStyle"
+                    android:layout_margin="18dp"
+                    android:indeterminateDrawable="@drawable/circle"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:visibility="gone"
+                    tools:progress="60" />
         <Button
+            android:visibility="visible"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:text="Create Collector"
@@ -91,8 +137,8 @@
             android:layout_marginTop="24dp"
             android:layout_marginStart="24dp"
             android:layout_marginEnd="24dp"/>
-
-
+            </LinearLayout>
+        </ScrollView>
     </LinearLayout>
 
 
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/HomeFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Dashboard;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.viewpager.widget.ViewPager;\n\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\n\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\nimport in.savitar.smjewelsadmin.Adapters.ViewPagerAdapter;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentHomeBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Collectors.CollectorsFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Transactions.TransactionsFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Account.AccountFragment;\n\n\npublic class HomeFragment extends Fragment implements MainActivityContract.View {\n\n    MainActivityPresenter mPresenter;\n    FragmentHomeBinding mBinding;\n\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n        setupViewPager(mBinding.mainViewPager);\n\n        //Setting OnClick Listener to Bottom Bar\n        mBinding.bottomNavigationBar.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.dashboard_menu:\n                        mBinding.mainViewPager.setCurrentItem(0);\n                        break;\n                    case R.id.collectors_menu:\n                        mBinding.mainViewPager.setCurrentItem(1);\n                        break;\n                    case R.id.account_menu:\n                        mBinding.mainViewPager.setCurrentItem(2);\n                        break;\n                    case R.id.transactions_menu:\n                        mBinding.mainViewPager.setCurrentItem(3);\n                        break;\n                }\n                return true;\n            }\n        });\n    }\n\n    private void setupViewPager(ViewPager viewPager)\n    {\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getActivity().getSupportFragmentManager());\n        //Level-1 Fragments\n        DashboardFragment dashboardFragment =new DashboardFragment();\n        CollectorsFragment collectorsFragment =new CollectorsFragment();\n        AccountFragment accountFragment =new AccountFragment();\n        TransactionsFragment notificationsFragment = new TransactionsFragment();\n\n        adapter.addFragment(dashboardFragment);\n        adapter.addFragment(collectorsFragment);\n        adapter.addFragment(accountFragment);\n        adapter.addFragment(notificationsFragment);\n\n        //Level 2 Fragments\n//        PlanUserFragment planUsersFragment = new PlanUserFragment();\n//        adapter.addFragment(planUsersFragment);\n//        adapter.addFragment(collectorsFragment);\n//        adapter.addFragment(usersFragment);\n//        adapter.addFragment(notificationsFragment);\n\n        viewPager.setAdapter(adapter);\n    }\n\n\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/HomeFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/HomeFragment.java	(date 1615795784000)
@@ -21,6 +21,7 @@
 import in.savitar.smjewelsadmin.mvp.ui.Collectors.CollectorsFragment;
 import in.savitar.smjewelsadmin.mvp.ui.Transactions.TransactionsFragment;
 import in.savitar.smjewelsadmin.mvp.ui.Account.AccountFragment;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtil;
 
 
 public class HomeFragment extends Fragment implements MainActivityContract.View {
@@ -97,6 +98,7 @@
 //        adapter.addFragment(notificationsFragment);
 
         viewPager.setAdapter(adapter);
+        //NavigationUtil.INSTANCE.toMainActivity();
     }
 
 
Index: .idea/render.experimental.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/render.experimental.xml	(date 1615795371000)
+++ .idea/render.experimental.xml	(date 1615795371000)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="RenderSettings">
+    <option name="showDecorations" value="true" />
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/ScanCollectorFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Collectors;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.budiyev.android.codescanner.CodeScanner;\nimport com.budiyev.android.codescanner.DecodeCallback;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.zxing.Result;\n\nimport es.dmoral.toasty.Toasty;\nimport in.savitar.smjewelsadmin.ModalClasses.PlanListModal;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentScanBinding;\nimport in.savitar.smjewelsadmin.databinding.FragmentScanCollectorBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;\n\n\npublic class ScanCollectorFragment extends Fragment implements MainActivityContract.View{\n\n\n\n    MainActivityPresenter mPresenter;\n    FragmentScanCollectorBinding mBinding;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n\n    public ScanCollectorFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_scan_collector,container,false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n        initiliazeScanner();\n    }\n\n    private void initiliazeScanner() {\n\n        final CodeScanner mCodeScanner = new CodeScanner(getContext(),mBinding.scannerView);\n        mCodeScanner.setDecodeCallback(new DecodeCallback() {\n            @Override\n            public void onDecoded(@NonNull final Result result) {\n                getActivity().runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\n                        mCodeScanner.stopPreview();\n                        fetchData(result.getText());\n\n                        //Toasty.success(getContext(),\"Hello \"+result.getText()).show();\n\n                    }\n                });\n            }\n        });\n\n        mCodeScanner.startPreview();\n\n    }\n\n    private void fetchData(final String text) {\n\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference();\n        databaseReference.child(\"CollectorsInfo\").addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.hasChild(text)){\n                    //Toasty.success(getContext(), \"Hello\").show();\n                    PlanListModal modal = snapshot.child(text).getValue(PlanListModal.class);\n                    Toasty.success(getContext(),\"Hello \"+modal.getName()).show();\n\n                    CollectorsInfoFragment fragment = new CollectorsInfoFragment();\n                    Bundle args = new Bundle();\n                    args.putString(\"Name\",modal.getName());\n                    args.putString(\"ID\",modal.getCollector_ID());\n                    args.putString(\"Photo\",modal.getProfilePhoto());\n                    fragment.setArguments(args);\n                    FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\n                    transaction.replace(R.id.main_container, fragment);\n                    transaction.addToBackStack(null);\n                    transaction.commit();\n\n//                    String userID = snapshot.child(text).child(\"UserID\").getValue(String.class);\n//                    String planName = snapshot.child(text).child(\"PlanName\").getValue(String.class);\n//                    String phone = snapshot.child(text).child(\"Phone\").getValue(String.class);\n//\n//                    Bundle args = new Bundle();\n//\n//                    if (planName.compareToIgnoreCase(\"PlanA\") == 0) {\n//                        String setName = snapshot.child(text).child(\"SetName\").getValue(String.class);\n//                        args.putString(\"SetName\", setName);\n//                    }\n//\n//                    Toasty.success(getActivity(),\"JHello \"+ userID);\n\n//                    CreateTransactionDialogFragment dialogFragment = new CreateTransactionDialogFragment();\n//                    FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();\n//                    args.putString(\"UserID\", userID);\n//                    args.putString(\"PlanName\", planName);\n//                    args.putString(\"Phone\", phone);\n//                    args.putString(\"ID\", text);\n//                    dialogFragment.setArguments(args);\n//                    Fragment prev = getActivity().getSupportFragmentManager().findFragmentByTag(\"dialog\");\n//                    if (prev != null) {\n//                        ft.remove(prev);\n//                }\n//                ft.addToBackStack(null);\n//                dialogFragment.show(ft, \"dialog\");\n                }\n                else {\n                    Toasty.error(getContext(),\"Invalid Code Scanned\").show();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/ScanCollectorFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/ScanCollectorFragment.java	(date 1615794346000)
@@ -28,6 +28,8 @@
 import in.savitar.smjewelsadmin.databinding.FragmentScanCollectorBinding;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;
 import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtil;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtilMain;
 
 
 public class ScanCollectorFragment extends Fragment implements MainActivityContract.View{
@@ -108,7 +110,7 @@
                     fragment.setArguments(args);
                     FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();
                     transaction.replace(R.id.main_container, fragment);
-                    transaction.addToBackStack(null);
+                    //transaction.addToBackStack(null);
                     transaction.commit();
 
 //                    String userID = snapshot.child(text).child("UserID").getValue(String.class);
@@ -150,7 +152,6 @@
         });
 
     }
-
     @Override
     public void onSuccess() {
 
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/CreateCollectorFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Collectors;\n\nimport android.app.Dialog;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.DialogFragment;\nimport androidx.fragment.app.Fragment;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.material.bottomsheet.BottomSheetBehavior;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.io.File;\nimport java.util.HashMap;\n\nimport es.dmoral.toasty.Toasty;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentCreateCollectorBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.CreateUserFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;\nimport pl.aprilapps.easyphotopicker.DefaultCallback;\nimport pl.aprilapps.easyphotopicker.EasyImage;\nimport pl.aprilapps.easyphotopicker.MediaFile;\nimport pl.aprilapps.easyphotopicker.MediaSource;\n\n\npublic class CreateCollectorFragment extends DialogFragment implements MainActivityContract.View {\n\n    FragmentCreateCollectorBinding mBinding;\n    MainActivityPresenter mPresenter;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n\n    String imageUrl;\n    Uri imageUri;\n    public static final int IMAGE_CODE = 1;\n    StorageReference storageReference;\n\n    EasyImage easyImage;\n\n    int imageFlag = 0;\n\n\n\n\n    public CreateCollectorFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_create_collector, container, false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n\n        mBinding.userPhotoCreateAccount.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                selectImage();\n            }\n        });\n\n        mBinding.signUpCollector.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                createCollector();\n            }\n        });\n\n    }\n\n    private void createCollector() {\n\n        if (mBinding.collectorIdSignup.getText().toString().compareToIgnoreCase(\"\") == 0){\n            Toasty.error(getContext(),\"Enter ID\").show();\n        } else if (mBinding.collectorNameSignUp.getText().toString().compareToIgnoreCase(\"\") == 0) {\n            Toasty.error(getContext(),\"Enter Name\").show();\n        } else if (mBinding.collectorPhoneSignUp.getText().toString().compareToIgnoreCase(\"\") == 0){\n            Toasty.error(getContext(),\"Enter Phone\").show();\n        } else if (imageFlag==0){\n            Toasty.error(getContext(),\"Please Select a photo\").show();\n        } else {\n                uploadData();\n        }\n\n    }\n\n    private void uploadData() {\n\n        final HashMap<String, Object> usersMap = new HashMap<>();\n        storageReference = FirebaseStorage.getInstance().getReference(\"ProfilePhotos\");\n\n        final ProgressDialog pd = new ProgressDialog(getContext());\n        pd.setMessage(\"Please Wait...\");\n        pd.show();\n\n        final StorageReference reference = storageReference.child(mBinding.collectorIdSignup.getText().toString() + \".jpg\");\n        reference.putFile(imageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n\n                        pd.dismiss();\n                        usersMap.put(\"ProfilePhoto\", uri.toString());\n\n                        firebaseDatabase = FirebaseDatabase.getInstance();\n                        databaseReference = firebaseDatabase.getReference();\n\n                        usersMap.put(\"Name\", mBinding.collectorNameSignUp.getText().toString());\n                        usersMap.put(\"Phone\", mBinding.collectorPhoneSignUp.getText().toString());\n                        usersMap.put(\"Collector_ID\",mBinding.collectorIdSignup.getText().toString());\n\n                        databaseReference.child(\"CollectorsInfo\").child(mBinding.collectorIdSignup.getText().toString())\n                                .setValue(usersMap);\n\n                        Toasty.success(getContext(),\"Collector Created Successfully\").show();\n\n                        dismiss();\n\n                    }\n                });\n            }\n        });\n\n    }\n\n    private void selectImage() {\n//        Intent intent = new Intent();\n//        intent.setType(\"image/*\");\n//        intent.setAction(Intent.ACTION_GET_CONTENT);\n//        startActivityForResult(intent, IMAGE_CODE);\n\n        // Pix.start((FragmentActivity) getContext(), Options.init().setRequestCode(100));\n\n        easyImage = new EasyImage.Builder(getContext())\n                .setCopyImagesToPublicGalleryFolder(true)\n                .setFolderName(\"SM Jewels\")\n                .allowMultiple(false)\n                .build();\n\n        easyImage.openChooser(CreateCollectorFragment.this);\n\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        easyImage.handleActivityResult(requestCode, resultCode, data, getActivity(), new DefaultCallback() {\n            @Override\n            public void onMediaFilesPicked(MediaFile[] imageFiles, MediaSource source) {\n                // onPhotosReturned(imageFiles);\n\n                imageFlag = 1;\n                imageUri = Uri.fromFile(new File(imageFiles[0].getFile().toString()));\n                Log.v(\"TAG\", \"ImageUri=>\" + imageUri);\n                mBinding.userPhotoCreateAccount.setImageURI(imageUri);\n                //mBinding.userCardLayoutInclude.userPhoto.setImageURI(imageUri);\n\n            }\n\n            @Override\n            public void onImagePickerError(@NonNull Throwable error, @NonNull MediaSource source) {\n                //Some error handling\n                error.printStackTrace();\n            }\n\n            @Override\n            public void onCanceled(@NonNull MediaSource source) {\n                //Not necessary to remove any files manually anymore\n            }\n        });\n\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        Dialog dialog = getDialog();\n        if (dialog != null) {\n            int width = ViewGroup.LayoutParams.MATCH_PARENT;\n            int height = ViewGroup.LayoutParams.WRAP_CONTENT;\n            dialog.getWindow().setLayout(width, height);\n        }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/CreateCollectorFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/CreateCollectorFragment.java	(date 1615710772000)
@@ -120,10 +120,8 @@
 
         final HashMap<String, Object> usersMap = new HashMap<>();
         storageReference = FirebaseStorage.getInstance().getReference("ProfilePhotos");
-
-        final ProgressDialog pd = new ProgressDialog(getContext());
-        pd.setMessage("Please Wait...");
-        pd.show();
+        mBinding.progressBar.setVisibility(View.VISIBLE);
+        mBinding.signUpCollector.setVisibility(View.GONE);
 
         final StorageReference reference = storageReference.child(mBinding.collectorIdSignup.getText().toString() + ".jpg");
         reference.putFile(imageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
@@ -133,7 +131,6 @@
                     @Override
                     public void onSuccess(Uri uri) {
 
-                        pd.dismiss();
                         usersMap.put("ProfilePhoto", uri.toString());
 
                         firebaseDatabase = FirebaseDatabase.getInstance();
@@ -142,6 +139,8 @@
                         usersMap.put("Name", mBinding.collectorNameSignUp.getText().toString());
                         usersMap.put("Phone", mBinding.collectorPhoneSignUp.getText().toString());
                         usersMap.put("Collector_ID",mBinding.collectorIdSignup.getText().toString());
+                        usersMap.put("AdharNumber",mBinding.collectorAadharSignUp.getText().toString());
+                        usersMap.put("Address",mBinding.collectorAddressSignUp.getText().toString());
 
                         databaseReference.child("CollectorsInfo").child(mBinding.collectorIdSignup.getText().toString())
                                 .setValue(usersMap);
@@ -153,6 +152,7 @@
                     }
                 });
             }
+
         });
 
     }
@@ -201,6 +201,7 @@
             @Override
             public void onCanceled(@NonNull MediaSource source) {
                 //Not necessary to remove any files manually anymore
+
             }
         });
 
@@ -214,7 +215,8 @@
 
     @Override
     public void onFailure() {
-
+        mBinding.progressBar.setVisibility(View.GONE);
+        mBinding.signUpCollector.setVisibility(View.VISIBLE);
     }
 
     @Override
Index: app/src/main/res/layout/fragment_account.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <ScrollView\n        android:id=\"@+id/scrollViewAccount\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/white\"\n        android:padding=\"16dp\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            android:background=\"@color/white\">\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_margin=\"16dp\"\n                android:fontFamily=\"@font/montserrat_bold\"\n                android:text=\"My Account\"\n                android:textColor=\"@color/colorPrimary\"\n                android:textSize=\"24sp\" />\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:layout_marginBottom=\"16dp\"\n                android:background=\"@color/black\" />\n\n\n            <ImageView\n                android:id=\"@+id/userPhotoProfile\"\n                android:layout_width=\"170dp\"\n                android:layout_height=\"170dp\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"36dp\"\n                android:scaleType=\"centerCrop\"\n                android:src=\"@drawable/logo\" />\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginTop=\"36dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:orientation=\"horizontal\">\n\n                <View\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"2dp\"\n                    android:layout_marginBottom=\"16dp\"\n                    android:layout_weight=\"1\"\n                    android:layout_gravity=\"\"\n                    android:background=\"@color/black\" />\n\n                <TextView\n                    android:id=\"@+id/userNameprofile\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"center\"\n                    android:layout_marginStart=\"16dp\"\n                    android:layout_marginEnd=\"16dp\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"i'm Admin\"\n                    android:textColor=\"@color/black\"\n                    android:textSize=\"14sp\" />\n\n                <View\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"2dp\"\n                    android:layout_marginBottom=\"16dp\"\n                    android:layout_weight=\"1\"\n                    android:background=\"@color/black\" />\n\n\n            </LinearLayout>\n\n\n            <LinearLayout\n                android:id=\"@+id/add_admin\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"36dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\">\n\n                <TextView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"2\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Add Admin\"\n                    android:textSize=\"14sp\"\n                    android:textColor=\"@color/black\"/>\n\n                <ImageView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\"\n                    android:layout_gravity=\"end\" />\n\n\n            </LinearLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginTop=\"8dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:background=\"#A0A0A0\" />\n\n            <LinearLayout\n                android:id=\"@+id/update_gold_price\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\">\n\n                <TextView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"2\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Update Gold Price\"\n                    android:textSize=\"14sp\"\n                    android:textColor=\"@color/black\"/>\n\n                <ImageView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\" />\n\n\n            </LinearLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginTop=\"8dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:background=\"#A0A0A0\" />\n\n            <LinearLayout\n                android:id=\"@+id/clear_daily\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\">\n\n                <TextView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"2\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Clear Daily Earnings\"\n                    android:textSize=\"14sp\"\n                    android:textColor=\"@color/black\"/>\n\n                <ImageView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\" />\n\n\n            </LinearLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginTop=\"8dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:background=\"#A0A0A0\" />\n\n            <LinearLayout\n                android:id=\"@+id/clear_weekly\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\">\n\n                <TextView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"2\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Clear Weekly Earnings\"\n                    android:textSize=\"14sp\"\n                    android:textColor=\"@color/black\"/>\n\n                <ImageView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\" />\n\n\n            </LinearLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginTop=\"8dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:background=\"#A0A0A0\" />\n\n            <LinearLayout\n                android:id=\"@+id/clear_monthly\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\">\n\n                <TextView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"2\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Clear Monthly Earnings\"\n                    android:textSize=\"14sp\"\n                    android:textColor=\"@color/black\"/>\n\n                <ImageView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\" />\n\n\n            </LinearLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginTop=\"8dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:background=\"#A0A0A0\" />\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:id=\"@+id/logOutProfile\">\n\n                <TextView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"2\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Log Out\"\n                    android:textSize=\"14sp\"\n                    android:textColor=\"@color/black\"/>\n\n                <ImageView\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"1\" />\n\n\n            </LinearLayout>\n\n            <View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"2dp\"\n                android:layout_marginTop=\"8dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:background=\"#A0A0A0\" />\n\n        </LinearLayout>\n\n\n\n\n    </ScrollView>\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_account.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_account.xml	(date 1614407027000)
@@ -77,11 +77,8 @@
                     android:layout_marginBottom="16dp"
                     android:layout_weight="1"
                     android:background="@color/black" />
-
-
+                
             </LinearLayout>
-
-
             <LinearLayout
                 android:id="@+id/add_admin"
                 android:layout_width="match_parent"
@@ -92,11 +89,12 @@
                 android:layout_marginEnd="16dp">
 
                 <TextView
+                    android:visibility="visible"
                     android:layout_width="0dp"
                     android:layout_height="wrap_content"
                     android:layout_weight="2"
                     android:fontFamily="@font/montserrat_bold"
-                    android:text="Add Admin"
+                    android:text="Add Draw Winners"
                     android:textSize="14sp"
                     android:textColor="@color/black"/>
 
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/utils/NavigationUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.utils;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.databinding.ViewDataBinding;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\n\nimport java.lang.ref.WeakReference;\n\nimport in.savitar.smjewelsadmin.MainActivity;\nimport in.savitar.smjewelsadmin.databinding.ActivitySplashBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Login.LoginFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.splash.NoInternetFragment;\nimport in.savitar.smjewelsadmin.mvp.ui.splash.SplashFragment;\n\npublic enum NavigationUtil {\n\n    @SuppressLint(\"StaticFieldLeak\")\n    INSTANCE;\n\n    private FragmentManager mFragMngr;\n    private ViewDataBinding mBinding;\n    private AppCompatActivity mActivity;\n    private static WeakReference<AppCompatActivity> actRef = new WeakReference<>(null);\n\n    public AppCompatActivity getActivity() {\n        final AppCompatActivity activity = actRef.get();\n        return activity;\n    }\n\n    public void setupNavigator(AppCompatActivity activity,\n                               ActionBar actionBar,\n                               ViewDataBinding binding,\n                               ActionBarDrawerToggle actionBarDrawerToggle) {\n        actRef = new WeakReference<>(activity);\n        if (activity instanceof AppCompatActivity) {\n            AppCompatActivity fragmentActivity = activity;\n            mFragMngr = fragmentActivity.getSupportFragmentManager();\n        }\n        mActivity = activity;\n        this.mBinding = binding;\n    }\n\n    private void addFragment(Fragment fragment,\n                             String tag,\n                             boolean addToBackStack)\n    {\n        if (mFragMngr == null) {\n            return;\n        }\n        try {\n            FragmentTransaction transaction = mFragMngr.beginTransaction();\n            //transaction.setCustomAnimations(R.anim.animation_right_in, R.anim.animation_left_out, R.anim.animation_right_in, R.anim.animation_left_out);\n\n            if (mBinding instanceof ActivitySplashBinding)\n                transaction.replace(((ActivitySplashBinding) mBinding).splashContainer.getId(), fragment, tag);\n            if (addToBackStack)\n                transaction.addToBackStack(tag);\n            transaction.commitAllowingStateLoss();\n        } catch (Exception e) {\n            // Logger.e(Logger.TAG, e.getMessage());\n        }\n    }\n\n\n    public void setSplash(){\n        addFragment(new SplashFragment(), SplashFragment.class.getSimpleName(),false);\n    }\n\n    public void toLogin(){\n        addFragment(new LoginFragment(), LoginFragment.class.getSimpleName(),true);\n    }\n\n    public void toNoInternet() {\n        addFragment(new NoInternetFragment(),NoInternetFragment.class.getSimpleName(),false);\n    }\n\n    /*public void toCreateAccount() {\n        addFragment(new CreateAccountFragment(),CreateAccountFragment.class.getSimpleName(),true);\n    }\n*/\n    public void toMainActivity(){\n        Intent i = new Intent(getActivity(), MainActivity.class);\n        getActivity().startActivity(i);\n        getActivity().finish();\n    }\n\n    /*public void toPendingStatus(){\n        addFragment(new StatusPendingFragment(),StatusPendingFragment.class.getSimpleName(),false);\n    } */\n\n    public void toSplash(){\n        Intent i = new Intent(getActivity(), MainActivity.class);\n        getActivity().startActivity(i);\n        getActivity().finish();\n        setSplash();\n    }\n\n\n\n\n\n\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/utils/NavigationUtil.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/utils/NavigationUtil.java	(date 1615799147000)
@@ -16,6 +16,7 @@
 
 import in.savitar.smjewelsadmin.MainActivity;
 import in.savitar.smjewelsadmin.databinding.ActivitySplashBinding;
+import in.savitar.smjewelsadmin.mvp.ui.Collectors.AssignCustomersFragment;
 import in.savitar.smjewelsadmin.mvp.ui.Login.LoginFragment;
 import in.savitar.smjewelsadmin.mvp.ui.splash.NoInternetFragment;
 import in.savitar.smjewelsadmin.mvp.ui.splash.SplashFragment;
@@ -82,10 +83,11 @@
         addFragment(new NoInternetFragment(),NoInternetFragment.class.getSimpleName(),false);
     }
 
+
     /*public void toCreateAccount() {
         addFragment(new CreateAccountFragment(),CreateAccountFragment.class.getSimpleName(),true);
-    }
-*/
+    }*/
+
     public void toMainActivity(){
         Intent i = new Intent(getActivity(), MainActivity.class);
         getActivity().startActivity(i);
Index: app/src/main/res/drawable/edittext_red_border.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/edittext_red_border.xml	(date 1614794409000)
+++ app/src/main/res/drawable/edittext_red_border.xml	(date 1614794409000)
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <stroke
+        android:width="2dp"
+        android:color="@color/red" />
+
+    <corners android:radius="36dp" />
+
+</shape>
\ No newline at end of file
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/AssignCustomersFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/AssignCustomersFragment.java	(date 1615702966000)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Collectors/AssignCustomersFragment.java	(date 1615702966000)
@@ -0,0 +1,131 @@
+package in.savitar.smjewelsadmin.mvp.ui.Collectors;
+
+import android.app.Dialog;
+import android.os.Bundle;
+
+import androidx.annotation.NonNull;
+import androidx.databinding.DataBindingUtil;
+import androidx.fragment.app.Fragment;
+
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+
+import java.text.SimpleDateFormat;
+import java.util.Date;
+import java.util.HashMap;
+import java.util.Locale;
+
+import androidx.fragment.app.FragmentTransaction;
+import es.dmoral.toasty.Toasty;
+import in.savitar.smjewelsadmin.R;
+import in.savitar.smjewelsadmin.databinding.FragmentAddAdminBinding;
+import in.savitar.smjewelsadmin.databinding.FragmentAssignCustomersBinding;
+import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;
+import in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;
+
+public class AssignCustomersFragment extends Fragment {
+    FragmentAssignCustomersBinding mBinding;
+    MainActivityPresenter mPresenter;
+    String winner1 = null, winner2 = null, photo1 = null, photo2 = null;
+    String[] winnerID=new String[2];
+    String[] winnerName = new String[2];
+    String[] winnerPlan = new String[2];
+    String[] winnerSet = new String[2];
+    String[] winnerPhoto = new String[2];
+    String monthYear="";
+    String drawOne="";
+    String customer_id="";
+    int flag=0;
+    public AssignCustomersFragment() {
+        // Required empty public constructor
+    }
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+
+    }
+
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container,
+                             Bundle savedInstanceState) {
+        // Inflate the layout for this fragment
+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_assign_customers, container, false);
+
+        init();
+        return mBinding.getRoot();
+    }
+
+    private void progressVisible()
+    {
+        mBinding.assignCustomers.setVisibility(View.GONE);
+        mBinding.progressBar.setVisibility(View.VISIBLE);
+
+    }
+    private void progressGone()
+    {
+        mBinding.collectorId.setBackgroundResource(R.drawable.edittext_grey_border);
+        mBinding.customerId.setBackgroundResource(R.drawable.edittext_grey_border);
+        mBinding.assignCustomers.setVisibility(View.VISIBLE);
+        mBinding.progressBar.setVisibility(View.GONE);
+    }
+    private void init() {
+
+       String collector_id="202008001";
+        mBinding.collectorId.setText(collector_id);
+        mBinding.assignCustomers.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                progressVisible();
+                customer_id=mBinding.customerId.getText().toString();
+                Log.v("Dr1",customer_id);
+                assignCustomers();
+            }
+        });
+
+
+    }
+    private void assignCustomers(){
+        final FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
+        final DatabaseReference databaseReference2 = firebaseDatabase.getReference().child("UsersList");
+        final DatabaseReference databaseReference = firebaseDatabase.getReference().child("CollectorsInfo");
+
+        if (mBinding.customerId.getText().toString().compareToIgnoreCase("") == 0) {
+            //  Toasty.error(getContext(),"Enter Winner 1").show();
+            mBinding.customerId.setError("Enter Customer ID");
+            mBinding.customerId.setBackgroundResource(R.drawable.edittext_red_border);
+            progressGone();
+        } else {
+            flag=1;
+        }
+        if(flag==1){
+            databaseReference2.addListenerForSingleValueEvent(new ValueEventListener() {
+                @Override
+                public void onDataChange(@NonNull DataSnapshot snapshot) {
+                    if (snapshot.hasChild(customer_id))
+                    {
+                      Toasty.success(getContext(),"Customer xists",Toasty.LENGTH_LONG).show();
+                    }
+                    else
+                    {
+                        Toasty.error(getContext(),"Invalid Customer ID",Toasty.LENGTH_LONG).show();
+                        progressGone();
+                    }
+                }
+                @Override
+                public void onCancelled(@NonNull DatabaseError error) {
+                    throw error.toException();
+                }
+            });
+        }
+    }
+
+}
Index: .idea/vcs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"VcsDirectoryMappings\">\n    <mapping directory=\"$PROJECT_DIR$\" vcs=\"\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/vcs.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ .idea/vcs.xml	(date 1613141008000)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="VcsDirectoryMappings">
-    <mapping directory="$PROJECT_DIR$" vcs="" />
+    <mapping directory="$PROJECT_DIR$" vcs="Git" />
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_create_user.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\">\n\n        <FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\">\n\n\n            <include\n                layout=\"@layout/fragment_user_card\"\n                android:id=\"@+id/userCardLayoutInclude\"/>\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@color/colorWhite\"\n                android:orientation=\"vertical\"\n                android:padding=\"16dp\">\n\n                <TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"@font/montserrat_bold\"\n                    android:text=\"Create User\"\n                    android:textColor=\"@color/colorPrimary\"\n                    android:textSize=\"36sp\" />\n\n                <TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginTop=\"4dp\"\n                    android:layout_marginEnd=\"16dp\"\n                    android:fontFamily=\"@font/montserrat_regular\"\n                    android:text=\"New users created are sent to admin for approvals.\"\n                    android:textColor=\"@color/colorBlack\"\n                    android:textSize=\"14sp\" />\n\n                <ScrollView\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:scrollbars=\"none\"\n                    android:background=\"@color/colorWhite\">\n\n                    <LinearLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:orientation=\"vertical\">\n\n                        <de.hdodenhof.circleimageview.CircleImageView\n                            android:layout_width=\"128dp\"\n                            android:layout_height=\"128dp\"\n                            android:layout_gravity=\"center_horizontal\"\n                            android:layout_marginTop=\"36dp\"\n                            android:src=\"@drawable/ic_account_circle\"\n                            android:id=\"@+id/userPhotoCreateAccount\"/>\n\n                        <TextView\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:text=\"Click to add photo\"\n                            android:layout_gravity=\"center_horizontal\"\n                            android:layout_marginTop=\"4dp\"\n                            android:textSize=\"12sp\"/>\n\n                        <EditText\n                            android:id=\"@+id/userIdSignup\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"36dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:textSize=\"14sp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"ID\"\n                            android:inputType=\"number\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userNameSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:textSize=\"14sp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Name\"\n                            android:inputType=\"textPersonName\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userPhoneSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Phone Number\"\n                            android:textSize=\"14sp\"\n                            android:maxLength=\"10\"\n                            android:inputType=\"phone\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userEmailSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Email ID\"\n                            android:textSize=\"14sp\"\n                            android:inputType=\"textEmailAddress\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userAddressSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Address\"\n                            android:textSize=\"14sp\"\n                            android:inputType=\"textPostalAddress\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userPincodeSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Pin Code\"\n                            android:textSize=\"14sp\"\n                            android:maxLength=\"6\"\n                            android:inputType=\"number\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userDOBSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Date of Birth\"\n                            android:textSize=\"14sp\"\n                            android:editable=\"false\"\n                            android:focusable=\"false\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userPANSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"PAN Number\"\n                            android:textSize=\"14sp\"\n                            android:maxLength=\"10\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userAadharSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Aadhar Number\"\n                            android:textSize=\"14sp\"\n                            android:maxLength=\"12\"\n                            android:inputType=\"number\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userNomineeSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Nominee (Optional)\"\n                            android:textSize=\"14sp\"\n                            android:inputType=\"text\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userNomineeRelationshipSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Nominee Relationship (Optional)\"\n                            android:textSize=\"14sp\"\n                            android:inputType=\"text\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <EditText\n                            android:id=\"@+id/userNomineePhoneSignUp\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginTop=\"16dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:background=\"@drawable/edittext_grey_border\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:hint=\"Nominee Phone (Optional)\"\n                            android:textSize=\"14sp\"\n                            android:inputType=\"number\"\n                            android:maxLength=\"10\"\n                            android:padding=\"16dp\"\n                            android:textColor=\"@color/colorBlack\" />\n\n                        <LinearLayout\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:orientation=\"horizontal\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginEnd=\"24dp\"\n                            android:layout_marginTop=\"16dp\">\n\n                            <Spinner\n                                android:id=\"@+id/plan_spinner\"\n                                android:layout_width=\"0dp\"\n                                android:background=\"@color/greyLight\"\n                                android:padding=\"12dp\"\n                                android:layout_gravity=\"center_vertical\"\n                                android:layout_height=\"wrap_content\"\n                                android:layout_weight=\"1\"/>\n\n                            <ImageView\n                                android:id=\"@+id/plan_info\"\n                                android:layout_width=\"wrap_content\"\n                                android:layout_height=\"wrap_content\"\n                                android:src=\"@drawable/ic_spinner_blue\"\n                                android:layout_marginStart=\"12dp\"/>\n\n\n                        </LinearLayout>\n\n                        <Button\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:text=\"Create User\"\n                            android:textAllCaps=\"false\"\n                            android:background=\"@drawable/button_rounded_corners_blue\"\n                            android:textSize=\"16sp\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:fontFamily=\"@font/montserrat_bold\"\n                            android:id=\"@+id/signUpBtn\"\n                            android:layout_marginTop=\"24dp\"\n                            android:layout_marginStart=\"24dp\"\n                            android:layout_marginEnd=\"24dp\"/>\n\n                    </LinearLayout>\n\n\n\n                </ScrollView>\n\n            </LinearLayout>\n\n\n        </FrameLayout>\n\n\n\n    </androidx.coordinatorlayout.widget.CoordinatorLayout>\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_create_user.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_create_user.xml	(date 1615459943000)
@@ -36,7 +36,7 @@
                     android:layout_marginTop="4dp"
                     android:layout_marginEnd="16dp"
                     android:fontFamily="@font/montserrat_regular"
-                    android:text="New users created are sent to admin for approvals."
+                    android:text="New users created here."
                     android:textColor="@color/colorBlack"
                     android:textSize="14sp" />
 
@@ -278,7 +278,15 @@
 
 
                         </LinearLayout>
-
+                        <ProgressBar
+                            android:id="@+id/progress_bar"
+                            style="?android:attr/progressBarStyle"
+                            android:layout_margin="18dp"
+                            android:indeterminateDrawable="@drawable/circle"
+                            android:layout_width="match_parent"
+                            android:layout_height="wrap_content"
+                            android:visibility="gone"
+                            tools:progress="60" />
                         <Button
                             android:layout_width="match_parent"
                             android:layout_height="wrap_content"
Index: app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<adaptive-icon xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <background android:drawable=\"@drawable/ic_launcher_background\" />\n    <foreground android:drawable=\"@drawable/ic_launcher_foreground\" />\n</adaptive-icon>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml	(date 1614003108000)
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_background" />
-    <foreground android:drawable="@drawable/ic_launcher_foreground" />
+    <background android:drawable="@mipmap/ic_launcher_background" />
+    <foreground android:drawable="@mipmap/ic_launcher_foreground" />
 </adaptive-icon>
\ No newline at end of file
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/CreateUserFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Dashboard;\n\nimport android.app.Activity;\nimport android.app.DatePickerDialog;\nimport android.app.ProgressDialog;\nimport android.content.ContentResolver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\n\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.MimeTypeMap;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.DatePicker;\n\nimport com.gkemon.XMLtoPDF.PdfGenerator;\nimport com.gkemon.XMLtoPDF.PdfGeneratorListener;\nimport com.gkemon.XMLtoPDF.model.FailureResponse;\nimport com.gkemon.XMLtoPDF.model.SuccessResponse;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.material.bottomsheet.BottomSheetBehavior;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport net.glxn.qrgen.android.QRCode;\n\nimport java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.Locale;\n\nimport es.dmoral.toasty.Toasty;\nimport in.savitar.smjewelsadmin.MainActivity;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentCreateUserBinding;\nimport pl.aprilapps.easyphotopicker.DefaultCallback;\nimport pl.aprilapps.easyphotopicker.EasyImage;\nimport pl.aprilapps.easyphotopicker.MediaFile;\nimport pl.aprilapps.easyphotopicker.MediaSource;\n\n\npublic class CreateUserFragment extends Fragment implements MainActivityContract.View, AdapterView.OnItemSelectedListener {\n\n    FragmentCreateUserBinding mBinding;\n    MainActivityPresenter mPresenter;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference databaseReference;\n\n    String imageUrl;\n    Uri imageUri;\n    public static final int IMAGE_CODE = 1;\n    StorageReference storageReference;\n    private BottomSheetBehavior sheetBehavior;\n\n    String planName;\n    String setName;\n    MainActivity activity;\n\n    EasyImage easyImage;\n\n    int imageFlag = 0;\n\n    public static final String MyPREFERENCES = \"MyPrefs\" ;\n\n\n\n\n    public CreateUserFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_create_user, container, false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n        activity = new MainActivity();\n        SharedPreferences sharedpreferences1 = getActivity().getSharedPreferences(MyPREFERENCES, Context.MODE_PRIVATE);\n\n        planName = sharedpreferences1.getString(\"PlanName\",\"\");\n\n        if (planName.compareToIgnoreCase(\"PlanA\") == 0){\n            setName =  sharedpreferences1.getString(\"SetName\",\"\");\n\n            //Setting up of plan Spinner\n            mBinding.planSpinner.setOnItemSelectedListener(this);\n            //Creating the ArrayAdapter instance having the country list\n            String[] plans = {\"PlanA\", \"PlanB\", \"PlanC\"};\n            ArrayAdapter aa = new ArrayAdapter(getContext(), android.R.layout.simple_spinner_item, plans);\n            aa.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n            //Setting the ArrayAdapter data on the Spinner\n            mBinding.planSpinner.setAdapter(aa);\n        } else {\n            mBinding.planSpinner.setVisibility(View.GONE);\n        }\n\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference().child(\"UsersList\");\n\n        mBinding.signUpBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                signUpUser();\n            }\n        });\n\n        mBinding.userPhotoCreateAccount.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                selectImage();\n            }\n        });\n\n        //Open Calendar\n        mBinding.userDOBSignUp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openCalendar();\n            }\n        });\n\n    }\n\n    private void openCalendar() {\n\n        final Calendar myCalendar = Calendar.getInstance();\n\n        DatePickerDialog.OnDateSetListener date = new DatePickerDialog.OnDateSetListener() {\n\n            @Override\n            public void onDateSet(DatePicker view, int year, int monthOfYear,\n                                  int dayOfMonth) {\n                // TODO Auto-generated method stub\n                myCalendar.set(Calendar.YEAR, year);\n                myCalendar.set(Calendar.MONTH, monthOfYear);\n                myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n\n                String myFormat = \"dd/MM/yyyy\"; //In which you need put here\n                SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.UK);\n\n                mBinding.userDOBSignUp.setText(sdf.format(myCalendar.getTime()));\n            }\n\n        };\n\n        new DatePickerDialog(getActivity(), date, myCalendar\n                .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),\n                myCalendar.get(Calendar.DAY_OF_MONTH)).show();\n\n    }\n\n    private void selectImage() {\n//        Intent intent = new Intent();\n//        intent.setType(\"image/*\");\n//        intent.setAction(Intent.ACTION_GET_CONTENT);\n//        startActivityForResult(intent, IMAGE_CODE);\n\n        // Pix.start((FragmentActivity) getContext(), Options.init().setRequestCode(100));\n\n        easyImage = new EasyImage.Builder(getContext())\n                .setCopyImagesToPublicGalleryFolder(true)\n                .setFolderName(\"SM Jewels\")\n                .allowMultiple(false)\n                .build();\n\n        easyImage.openChooser(CreateUserFragment.this);\n\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n//        if(requestCode == Activity.RESULT_OK && resultCode == requestCode) {\n////\n////            imageUri = data.getData();\n////            mBinding.userPhotoCreateAccount.setImageURI(imageUri);\n//        }\n\n        easyImage.handleActivityResult(requestCode, resultCode, data, getActivity(), new DefaultCallback() {\n            @Override\n            public void onMediaFilesPicked(MediaFile[] imageFiles, MediaSource source) {\n                // onPhotosReturned(imageFiles);\n\n                imageFlag = 1;\n                imageUri = Uri.fromFile(new File(imageFiles[0].getFile().toString()));\n                Log.v(\"TAG\", \"ImageUri=>\" + imageUri);\n                mBinding.userPhotoCreateAccount.setImageURI(imageUri);\n                mBinding.userCardLayoutInclude.userPhoto.setImageURI(imageUri);\n\n            }\n\n            @Override\n            public void onImagePickerError(@NonNull Throwable error, @NonNull MediaSource source) {\n                //Some error handling\n                error.printStackTrace();\n            }\n\n            @Override\n            public void onCanceled(@NonNull MediaSource source) {\n                //Not necessary to remove any files manually anymore\n            }\n        });\n\n\n    }\n\n\n    private void signUpUser() {\n\n        if (TextUtils.isEmpty(mBinding.userNameSignUp.getText())) {\n            mBinding.userNameSignUp.setError(\"Enter Name\");\n            Toasty.success(getContext(), \"Enter Name\").show();\n        } else if (TextUtils.isEmpty(mBinding.userPhoneSignUp.getText()) || mBinding.userPhoneSignUp.getText().length() < 10) {\n            mBinding.userPhoneSignUp.setError(\"Invalid Number\");\n            Toasty.success(getContext(), \"Invalid Number\").show();\n        } else if (TextUtils.isEmpty(mBinding.userAddressSignUp.getText())) {\n            mBinding.userAddressSignUp.setError(\"Enter Address\");\n            Toasty.success(getContext(), \"Enter Address\").show();\n        } else if (TextUtils.isEmpty(mBinding.userPincodeSignUp.getText()) || mBinding.userPincodeSignUp.getText().length() < 6) {\n            mBinding.userPincodeSignUp.setError(\"Invalid Pincode\");\n            Toasty.success(getContext(), \"Invalid Pincode\").show();\n        } else if (TextUtils.isEmpty(mBinding.userDOBSignUp.getText())) {\n            mBinding.userDOBSignUp.setError(\"Enter DOB\");\n            Toasty.success(getContext(), \"Enter DOB\").show();\n        } else {\n            uploadData();\n        }\n\n    }\n\n    private void uploadData() {\n\n        final HashMap<String, Object> usersMap = new HashMap<>();\n        storageReference = FirebaseStorage.getInstance().getReference(\"ProfilePhotos\");\n\n        if (imageFlag == 1) {\n\n            final ProgressDialog pd = new ProgressDialog(getContext());\n            pd.setMessage(\"Please Wait...\");\n            pd.show();\n\n            final StorageReference reference = storageReference.child(mBinding.userIdSignup.getText().toString() + \".jpg\");\n            reference.putFile(imageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\n                        @Override\n                        public void onSuccess(Uri uri) {\n                            usersMap.put(\"ProfilePhoto\", uri.toString());\n\n                            firebaseDatabase = FirebaseDatabase.getInstance();\n                            databaseReference = firebaseDatabase.getReference();\n\n                            usersMap.put(\"Name\", mBinding.userNameSignUp.getText().toString());\n                            usersMap.put(\"Phone\", mBinding.userPhoneSignUp.getText().toString());\n                            usersMap.put(\"EmailID\", mBinding.userEmailSignUp.getText().toString());\n                            usersMap.put(\"Address\", mBinding.userAddressSignUp.getText().toString());\n                            usersMap.put(\"PinCode\", mBinding.userPincodeSignUp.getText().toString());\n                            usersMap.put(\"DOB\", mBinding.userDOBSignUp.getText().toString());\n                            usersMap.put(\"PAN\", mBinding.userPANSignUp.getText().toString());\n                            usersMap.put(\"Aadhar\", mBinding.userAadharSignUp.getText().toString());\n                            usersMap.put(\"Nominee\", mBinding.userNomineeSignUp.getText().toString());\n                            usersMap.put(\"NomineeRelationship\", mBinding.userNomineeRelationshipSignUp.getText().toString());\n                            usersMap.put(\"NomineePhone\", mBinding.userNomineePhoneSignUp.getText().toString());\n                            usersMap.put(\"Plan\", mBinding.planSpinner.getSelectedItem().toString());\n                            usersMap.put(\"TotalAmount\", 0);\n\n\n                            final String pushKey = databaseReference.push().getKey();\n\n                            final HashMap<String, String> userMap2 = new HashMap<>();\n                            userMap2.put(\"Phone\", mBinding.userPhoneSignUp.getText().toString());\n                            userMap2.put(\"UserID\", pushKey);\n                            userMap2.put(\"PlanName\", mBinding.planSpinner.getSelectedItem().toString());\n                            userMap2.put(\"SetName\", setName);\n\n                            final HashMap<String, Object> userMap3 = new HashMap<>();\n                            userMap3.put(\"TotalMonths\", 18);\n                            userMap3.put(\"CompletedMonths\", 0);\n                            userMap3.put(\"ID\", Long.parseLong(mBinding.userIdSignup.getText().toString()));\n\n                            if (mBinding.planSpinner.getSelectedItem().toString().compareToIgnoreCase(\"PlanA\") == 0) {\n                                databaseReference.child(\"PlanA\").child(\"UsersList\").child(setName).child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {\n                                    @Override\n                                    public void onSuccess(Void aVoid) {\n\n                                        databaseReference.child(\"UsersList\").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);\n\n                                        databaseReference.child(\"PlanA\").child(\"UsersList\").child(setName).child(pushKey).updateChildren(userMap3);\n\n                                        Toasty.success(getContext(), \"Account Created Successfully\").show();\n\n                                        generateCard();\n                                        pd.dismiss();\n\n                                    }\n                                });\n                            } else if (mBinding.planSpinner.getSelectedItem().toString().compareToIgnoreCase(\"PlanB\") == 0) {\n\n                                usersMap.put(\"ID\", mBinding.userIdSignup.getText().toString());\n\n                                databaseReference.child(\"PlanB\").child(\"UsersList\").child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {\n                                    @Override\n                                    public void onSuccess(Void aVoid) {\n\n                                        databaseReference.child(\"UsersList\").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);\n\n                                        Toasty.success(getContext(), \"Account Created Successfully\").show();\n\n                                        generateCard();\n                                        pd.dismiss();\n\n                                    }\n                                });\n                            }\n\n\n                        }\n                    });\n                }\n            });\n        } else {\n            firebaseDatabase = FirebaseDatabase.getInstance();\n            databaseReference = firebaseDatabase.getReference();\n\n            usersMap.put(\"Name\", mBinding.userNameSignUp.getText().toString());\n            usersMap.put(\"Phone\", mBinding.userPhoneSignUp.getText().toString());\n            usersMap.put(\"EmailID\", mBinding.userEmailSignUp.getText().toString());\n            usersMap.put(\"Address\", mBinding.userAddressSignUp.getText().toString());\n            usersMap.put(\"PinCode\", mBinding.userPincodeSignUp.getText().toString());\n            usersMap.put(\"DOB\", mBinding.userDOBSignUp.getText().toString());\n            usersMap.put(\"PAN\", mBinding.userPANSignUp.getText().toString());\n            usersMap.put(\"Aadhar\", mBinding.userAadharSignUp.getText().toString());\n            usersMap.put(\"Nominee\", mBinding.userNomineeSignUp.getText().toString());\n            usersMap.put(\"NomineeRelationship\", mBinding.userNomineeRelationshipSignUp.getText().toString());\n            usersMap.put(\"NomineePhone\", mBinding.userNomineePhoneSignUp.getText().toString());\n            usersMap.put(\"Plan\", mBinding.planSpinner.getSelectedItem().toString());\n\n            final String pushKey = databaseReference.push().getKey();\n\n            final HashMap<String, String> userMap2 = new HashMap<>();\n            userMap2.put(\"Phone\", mBinding.userPhoneSignUp.getText().toString());\n            userMap2.put(\"UserID\", pushKey);\n            userMap2.put(\"PlanName\", \"PlanA\");\n            userMap2.put(\"SetName\", setName);\n\n            final HashMap<String, Object> userMap3 = new HashMap<>();\n            userMap3.put(\"TotalMonths\", 18);\n            userMap3.put(\"CompletedMonths\", 0);\n            userMap3.put(\"TotalAmount\", 0);\n            userMap3.put(\"ID\", Long.parseLong(mBinding.userIdSignup.getText().toString()));\n\n\n            databaseReference.child(\"PlanA\").child(\"UsersList\").child(setName).child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {\n                @Override\n                public void onSuccess(Void aVoid) {\n\n                    databaseReference.child(\"UsersList\").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);\n\n                    databaseReference.child(\"PlanA\").child(\"UsersList\").child(setName).child(pushKey).updateChildren(userMap3);\n\n                    Toasty.success(getContext(), \"Account Created Successfully\").show();\n\n                    generateCard();\n                }\n            });\n        }\n\n\n    }\n\n    private void generateCard() {\n\n        mBinding.userCardLayoutInclude.userID.setText(mBinding.userIdSignup.getText().toString());\n        mBinding.userCardLayoutInclude.userName.setText(mBinding.userNameSignUp.getText());\n        mBinding.userCardLayoutInclude.userPhone.setText(mBinding.userPhoneSignUp.getText());\n\n        generateQRCode(mBinding.userIdSignup.getText().toString());\n\n        shareCard();\n    }\n\n    private void generateQRCode(String id) {\n        Bitmap myBitmap = QRCode.from(id).withSize(200,200).bitmap();\n        mBinding.userCardLayoutInclude.userCode.setImageBitmap(myBitmap);\n    }\n\n    private void shareCard() {\n\n        File mediaStorageDir = getContext().getExternalFilesDir(null);\n        File folder = new File(mediaStorageDir, \"pdf\");\n        folder.mkdir();\n\n        PdfGenerator.getBuilder()\n                .setContext(getContext())\n                .fromViewIDSource()\n                .fromViewID(getActivity(),R.id.userCardLayout)\n                .setCustomPageSize(3000,2000)\n                .setFileName(\"Test-PDF\")\n                .setFolderName(\"pdf\")\n                .build(new PdfGeneratorListener() {\n                    @Override\n                    public void onSuccess(SuccessResponse response) {\n                        Intent sharingIntent = new Intent(Intent.ACTION_SEND);\n                        Uri screenshotUri = Uri.parse(response.getPath());\n                        sharingIntent.setType(\"*/*\");\n                        sharingIntent.putExtra(Intent.EXTRA_STREAM, screenshotUri);\n                        startActivity(Intent.createChooser(sharingIntent, \"Share using\"));\n                    }\n\n                    @Override\n                    public void showLog(String log) {\n                        super.showLog(log);\n                        Log.v(\"TAG\",\"QRCODE Log=>\"+log);\n                    }\n\n                    @Override\n                    public void onFailure(FailureResponse failureResponse) {\n                        Log.v(\"TAG\",\"QRCODE Log=>\"+failureResponse.getErrorMessage());\n                    }\n                });\n\n    }\n\n    private String getExtension(Uri uri) {\n        ContentResolver contentResolver = getContext().getContentResolver();\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\n        return mimeTypeMap.getExtensionFromMimeType(contentResolver.getType(uri));\n    }\n\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n\n    @Override\n    public void onItemSelected(AdapterView<?> adapterView, View view, int i, long l) {\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView<?> adapterView) {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/CreateUserFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Dashboard/CreateUserFragment.java	(date 1615376658000)
@@ -32,8 +32,11 @@
 import com.gkemon.XMLtoPDF.model.SuccessResponse;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.material.bottomsheet.BottomSheetBehavior;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
 import com.google.firebase.storage.FirebaseStorage;
 import com.google.firebase.storage.StorageReference;
 import com.google.firebase.storage.UploadTask;
@@ -43,6 +46,7 @@
 import java.io.File;
 import java.text.SimpleDateFormat;
 import java.util.Calendar;
+import java.util.Date;
 import java.util.HashMap;
 import java.util.Locale;
 
@@ -50,6 +54,7 @@
 import in.savitar.smjewelsadmin.MainActivity;
 import in.savitar.smjewelsadmin.R;
 import in.savitar.smjewelsadmin.databinding.FragmentCreateUserBinding;
+import in.savitar.smjewelsadmin.mvp.utils.NavigationUtilMain;
 import pl.aprilapps.easyphotopicker.DefaultCallback;
 import pl.aprilapps.easyphotopicker.EasyImage;
 import pl.aprilapps.easyphotopicker.MediaFile;
@@ -260,18 +265,20 @@
         }
 
     }
-
+    private String getCurrentDate() {
+        SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy", Locale.getDefault());
+        String currentDateandTime = sdf.format(new Date());
+        Log.v("date", currentDateandTime);
+        return currentDateandTime;
+    }
     private void uploadData() {
-
+        mBinding.signUpBtn.setVisibility(View.GONE);
+        mBinding.progressBar.setVisibility(View.VISIBLE);
         final HashMap<String, Object> usersMap = new HashMap<>();
         storageReference = FirebaseStorage.getInstance().getReference("ProfilePhotos");
-
+        Log.v("in upload", "yes");
         if (imageFlag == 1) {
-
-            final ProgressDialog pd = new ProgressDialog(getContext());
-            pd.setMessage("Please Wait...");
-            pd.show();
-
+            Log.v("in imageFlag", "yes");
             final StorageReference reference = storageReference.child(mBinding.userIdSignup.getText().toString() + ".jpg");
             reference.putFile(imageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
                 @Override
@@ -279,11 +286,25 @@
                     reference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {
                         @Override
                         public void onSuccess(Uri uri) {
-                            usersMap.put("ProfilePhoto", uri.toString());
+
+                            String currentMonth = getCurrentDate();
+                            Log.v("DateFire", currentMonth);
+                            String[] lastPaidMonth = currentMonth.split("-");
+                            String _day = lastPaidMonth[0];
+                            String _month = lastPaidMonth[1];
+                            String _year = lastPaidMonth[2];
+
+                            int intdate = 12;
+                            int intmonth = Integer.parseInt(_month);
+                            int intyear = Integer.parseInt(_year);
+                            String filteredMonth = intdate + "/" + intmonth + "/" + intyear;
 
                             firebaseDatabase = FirebaseDatabase.getInstance();
                             databaseReference = firebaseDatabase.getReference();
 
+                            //Its common for all users
+
+                            usersMap.put("ProfilePhoto", uri.toString());
                             usersMap.put("Name", mBinding.userNameSignUp.getText().toString());
                             usersMap.put("Phone", mBinding.userPhoneSignUp.getText().toString());
                             usersMap.put("EmailID", mBinding.userEmailSignUp.getText().toString());
@@ -296,110 +317,161 @@
                             usersMap.put("NomineeRelationship", mBinding.userNomineeRelationshipSignUp.getText().toString());
                             usersMap.put("NomineePhone", mBinding.userNomineePhoneSignUp.getText().toString());
                             usersMap.put("Plan", mBinding.planSpinner.getSelectedItem().toString());
+                            usersMap.put("LastPaidMonth", filteredMonth);
+                            usersMap.put("ID", Long.parseLong(mBinding.userIdSignup.getText().toString()));
                             usersMap.put("TotalAmount", 0);
-
+                            usersMap.put("TotalTransactions", 0);
+                            usersMap.put("CompletedMonths", 0);
 
                             final String pushKey = databaseReference.push().getKey();
 
+                            //
                             final HashMap<String, String> userMap2 = new HashMap<>();
                             userMap2.put("Phone", mBinding.userPhoneSignUp.getText().toString());
                             userMap2.put("UserID", pushKey);
                             userMap2.put("PlanName", mBinding.planSpinner.getSelectedItem().toString());
-                            userMap2.put("SetName", setName);
+                            userMap2.put("SetName", "Set1");
+
 
                             final HashMap<String, Object> userMap3 = new HashMap<>();
                             userMap3.put("TotalMonths", 18);
-                            userMap3.put("CompletedMonths", 0);
                             userMap3.put("ID", Long.parseLong(mBinding.userIdSignup.getText().toString()));
 
                             if (mBinding.planSpinner.getSelectedItem().toString().compareToIgnoreCase("PlanA") == 0) {
-                                databaseReference.child("PlanA").child("UsersList").child(setName).child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {
+
+                                usersMap.put("InstallmentPeriod", 18);
+                                usersMap.put("InstallmentAmount", 500);
+                                usersMap.put("PlanCompletionStatus", "Incomplete");
+                                databaseReference.child("PlanA").child("UsersList").child("Set1").child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {
                                     @Override
                                     public void onSuccess(Void aVoid) {
-
                                         databaseReference.child("UsersList").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);
 
-                                        databaseReference.child("PlanA").child("UsersList").child(setName).child(pushKey).updateChildren(userMap3);
+                                        databaseReference.child("PlanA").child("UsersList").child("Set1").child(pushKey).updateChildren(userMap3);
 
-                                        Toasty.success(getContext(), "Account Created Successfully").show();
-
-                                        generateCard();
-                                        pd.dismiss();
+                                    }
+                                });
+                                //Upload PCS
+                                final DatabaseReference databaseReference1 = firebaseDatabase.getReference(); //.child("CollectorsInfo").child(preferences.getString("UserID", ""));
+                                databaseReference1.addListenerForSingleValueEvent(new ValueEventListener() {
+                                    @Override
+                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                        Log.v("PCS", "yes");
+                                        if (snapshot.hasChild("PlanCompletionStatus")) {
+                                            Log.v("PCS if", "yes");
+                                            databaseReference1.child("PlanCompletionStatus").child(mBinding.userIdSignup.getText().toString()).setValue("Incomplete");
+                                            Toasty.success(getContext(), "Account Created Successfully").show();
+                                            generateCard();
+                                            NavigationUtilMain.INSTANCE.setUpHomeScreen();
+                                        } else {
+                                            Log.v("PCS else", "yes");
+                                            databaseReference1.child("PlanCompletionStatus").child(mBinding.userIdSignup.getText().toString()).setValue("Incomplete");
+                                            Toasty.success(getContext(), "Account Created Successfully").show();
+                                            generateCard();
+                                            NavigationUtilMain.INSTANCE.setUpHomeScreen();
+                                        }
+                                    }
+
+                                    @Override
+                                    public void onCancelled(@NonNull DatabaseError error) {
 
                                     }
                                 });
+
                             } else if (mBinding.planSpinner.getSelectedItem().toString().compareToIgnoreCase("PlanB") == 0) {
-
-                                usersMap.put("ID", mBinding.userIdSignup.getText().toString());
-
+                                Log.v("In Plan B", "yes");
+                                usersMap.put("InstallmentPeriod", 0);
+                                usersMap.put("InstallmentAmount", 0);
+                                usersMap.put("PlanCompletionStatus", "NA");
                                 databaseReference.child("PlanB").child("UsersList").child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {
                                     @Override
                                     public void onSuccess(Void aVoid) {
-
+                                        Log.v("onSuccess B", "yes");
                                         databaseReference.child("UsersList").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);
 
-                                        Toasty.success(getContext(), "Account Created Successfully").show();
-
-                                        generateCard();
-                                        pd.dismiss();
-
-                                    }
-                                });
-                            }
-
-
-                        }
-                    });
-                }
-            });
-        } else {
-            firebaseDatabase = FirebaseDatabase.getInstance();
-            databaseReference = firebaseDatabase.getReference();
+                                    }
+                                });
+
+                                final DatabaseReference databaseReference1 = firebaseDatabase.getReference(); //.child("CollectorsInfo").child(preferences.getString("UserID", ""));
+                                databaseReference1.addListenerForSingleValueEvent(new ValueEventListener() {
+                                    @Override
+                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                        Log.v("PCS", "yes");
+                                        if (snapshot.hasChild("PlanCompletionStatus")) {
+                                            Log.v("PCS if", "yes");
+                                            databaseReference1.child("PlanCompletionStatus").child(mBinding.userIdSignup.getText().toString()).setValue("NA");
+                                            Toasty.success(getContext(), "Account Created Successfully").show();
+                                            generateCard();
+                                            NavigationUtilMain.INSTANCE.setUpHomeScreen();
+                                            //   Toasty.info(getContext(),"has PCS",Toasty.LENGTH_LONG).show();
+                                        } else {
 
-            usersMap.put("Name", mBinding.userNameSignUp.getText().toString());
-            usersMap.put("Phone", mBinding.userPhoneSignUp.getText().toString());
-            usersMap.put("EmailID", mBinding.userEmailSignUp.getText().toString());
-            usersMap.put("Address", mBinding.userAddressSignUp.getText().toString());
-            usersMap.put("PinCode", mBinding.userPincodeSignUp.getText().toString());
-            usersMap.put("DOB", mBinding.userDOBSignUp.getText().toString());
-            usersMap.put("PAN", mBinding.userPANSignUp.getText().toString());
-            usersMap.put("Aadhar", mBinding.userAadharSignUp.getText().toString());
-            usersMap.put("Nominee", mBinding.userNomineeSignUp.getText().toString());
-            usersMap.put("NomineeRelationship", mBinding.userNomineeRelationshipSignUp.getText().toString());
-            usersMap.put("NomineePhone", mBinding.userNomineePhoneSignUp.getText().toString());
-            usersMap.put("Plan", mBinding.planSpinner.getSelectedItem().toString());
+                                            databaseReference1.child("PlanCompletionStatus").child(mBinding.userIdSignup.getText().toString()).setValue("NA");
+                                            Toasty.success(getContext(), "Account Created Successfully").show();
+                                            generateCard();
+                                            NavigationUtilMain.INSTANCE.setUpHomeScreen();
 
-            final String pushKey = databaseReference.push().getKey();
+                                        }
+                                    }
 
-            final HashMap<String, String> userMap2 = new HashMap<>();
-            userMap2.put("Phone", mBinding.userPhoneSignUp.getText().toString());
-            userMap2.put("UserID", pushKey);
-            userMap2.put("PlanName", "PlanA");
-            userMap2.put("SetName", setName);
+                                    @Override
+                                    public void onCancelled(@NonNull DatabaseError error) {
 
-            final HashMap<String, Object> userMap3 = new HashMap<>();
-            userMap3.put("TotalMonths", 18);
-            userMap3.put("CompletedMonths", 0);
-            userMap3.put("TotalAmount", 0);
-            userMap3.put("ID", Long.parseLong(mBinding.userIdSignup.getText().toString()));
+                                    }
+                                });
 
 
-            databaseReference.child("PlanA").child("UsersList").child(setName).child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {
-                @Override
-                public void onSuccess(Void aVoid) {
-
-                    databaseReference.child("UsersList").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);
-
-                    databaseReference.child("PlanA").child("UsersList").child(setName).child(pushKey).updateChildren(userMap3);
-
-                    Toasty.success(getContext(), "Account Created Successfully").show();
-
-                    generateCard();
-                }
-            });
-        }
+                            } else if (mBinding.planSpinner.getSelectedItem().toString().compareToIgnoreCase("PlanC") == 0) {
+                                Log.v("In Plan C", "yes");
+                                usersMap.put("InstallmentPeriod", 12);
+                                usersMap.put("InstallmentAmount", 0);
+                                usersMap.put("PlanCompletionStatus", "NA");
+                                databaseReference.child("PlanC").child("UsersList").child(pushKey).setValue(usersMap).addOnSuccessListener(new OnSuccessListener<Void>() {
+                                    @Override
+                                    public void onSuccess(Void aVoid) {
+                                        Log.v("onSuccess c", "yes");
+                                        databaseReference.child("UsersList").child(mBinding.userIdSignup.getText().toString()).setValue(userMap2);
+                                    }
+                                });
+                                final DatabaseReference databaseReference1 = firebaseDatabase.getReference(); //.child("CollectorsInfo").child(preferences.getString("UserID", ""));
+                                databaseReference1.addListenerForSingleValueEvent(new ValueEventListener() {
+                                    @Override
+                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                                        Log.v("PCS", "yes");
+                                        if (snapshot.hasChild("PlanCompletionStatus")) {
+                                            Log.v("PCS if", "yes");
+                                            databaseReference1.child("PlanCompletionStatus").child(mBinding.userIdSignup.getText().toString()).setValue("NA");
+                                            Toasty.success(getContext(), "Account Created Successfully").show();
+                                            generateCard();
+                                            //NavigationUtilMain.INSTANCE.setUpHomeScreen();
+                                            // Toasty.info(getContext(),"has PCS",Toasty.LENGTH_LONG).show();
+                                        } else {
+                                            databaseReference1.child("PlanCompletionStatus").child(mBinding.userIdSignup.getText().toString()).setValue("NA");
+                                            Toasty.success(getContext(), "Account Created Successfully").show();
+                                            generateCard();
+                                            NavigationUtilMain.INSTANCE.setUpHomeScreen();
+                                        }
+                                    }
+
+                                    @Override
+                                    public void onCancelled(@NonNull DatabaseError error) {
+
+                                    }
+                                });
+
+
+                            }
+                        }
+                    });
+                }
+            });
+        } else {
 
+            Toasty.error(getContext(), "You haven't choose profile photo").show();
+            mBinding.progressBar.setVisibility(View.GONE);
+            mBinding.signUpBtn.setVisibility(View.VISIBLE);
 
+        }
     }
 
     private void generateCard() {
@@ -423,13 +495,13 @@
         File mediaStorageDir = getContext().getExternalFilesDir(null);
         File folder = new File(mediaStorageDir, "pdf");
         folder.mkdir();
-
+        String pdf_name=mBinding.userNameSignUp.getText().toString();
         PdfGenerator.getBuilder()
                 .setContext(getContext())
                 .fromViewIDSource()
                 .fromViewID(getActivity(),R.id.userCardLayout)
                 .setCustomPageSize(3000,2000)
-                .setFileName("Test-PDF")
+                .setFileName(pdf_name)
                 .setFolderName("pdf")
                 .build(new PdfGeneratorListener() {
                     @Override
Index: app/src/main/res/layout/fragment_add_admin.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorWhite\"\n        android:orientation=\"vertical\"\n        android:padding=\"16dp\">\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/montserrat_bold\"\n            android:text=\"Create Admin\"\n            android:textColor=\"@color/colorPrimary\"\n            android:textSize=\"36sp\" />\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"4dp\"\n            android:layout_marginEnd=\"16dp\"\n            android:fontFamily=\"@font/montserrat_regular\"\n            android:text=\"New Admins creates have equal features as yours.\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"14sp\" />\n\n        <EditText\n            android:id=\"@+id/adminIdSignup\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"36dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:background=\"@drawable/edittext_grey_border\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:hint=\"ID\"\n            android:padding=\"16dp\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"14sp\" />\n\n        <EditText\n            android:id=\"@+id/adminNameSignUp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:background=\"@drawable/edittext_grey_border\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:hint=\"Name\"\n            android:inputType=\"textPersonName\"\n            android:padding=\"16dp\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"14sp\" />\n\n        <EditText\n            android:id=\"@+id/adminPhoneSignUp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:background=\"@drawable/edittext_grey_border\"\n            android:fontFamily=\"@font/montserrat_medium\"\n            android:hint=\"Phone Number\"\n            android:inputType=\"phone\"\n            android:maxLength=\"10\"\n            android:padding=\"16dp\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"14sp\" />\n\n        <Button\n            android:id=\"@+id/signUpAdmin\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"24dp\"\n            android:layout_marginEnd=\"24dp\"\n            android:background=\"@drawable/button_rounded_corners_blue\"\n            android:fontFamily=\"@font/montserrat_bold\"\n            android:text=\"Create Admin\"\n            android:textAllCaps=\"false\"\n            android:textColor=\"@color/colorWhite\"\n            android:textSize=\"16sp\" />\n\n    </LinearLayout>\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_add_admin.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_add_admin.xml	(date 1614793965000)
@@ -12,36 +12,38 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:fontFamily="@font/montserrat_bold"
-            android:text="Create Admin"
+            android:text="Add Draw Winners"
             android:textColor="@color/colorPrimary"
             android:textSize="36sp" />
 
         <TextView
+            android:layout_gravity="center"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginTop="4dp"
             android:layout_marginEnd="16dp"
             android:fontFamily="@font/montserrat_regular"
-            android:text="New Admins creates have equal features as yours."
+            android:text="Draw winners of this month are added here"
             android:textColor="@color/colorBlack"
             android:textSize="14sp" />
 
         <EditText
-            android:id="@+id/adminIdSignup"
+            android:id="@+id/draw_winner_date"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="24dp"
-            android:layout_marginTop="36dp"
+            android:layout_marginTop="16dp"
             android:layout_marginEnd="24dp"
+            android:textSize="14sp"
             android:background="@drawable/edittext_grey_border"
             android:fontFamily="@font/montserrat_medium"
-            android:hint="ID"
+            android:hint="Date"
+            android:inputType="textPersonName"
             android:padding="16dp"
-            android:textColor="@color/colorBlack"
-            android:textSize="14sp" />
+            android:textColor="@color/colorBlack" />
 
         <EditText
-            android:id="@+id/adminNameSignUp"
+            android:id="@+id/draw_winner_one"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="24dp"
@@ -49,14 +51,13 @@
             android:layout_marginEnd="24dp"
             android:background="@drawable/edittext_grey_border"
             android:fontFamily="@font/montserrat_medium"
-            android:hint="Name"
-            android:inputType="textPersonName"
+            android:hint="Winner 1 ID"
             android:padding="16dp"
             android:textColor="@color/colorBlack"
             android:textSize="14sp" />
 
         <EditText
-            android:id="@+id/adminPhoneSignUp"
+            android:id="@+id/draw_winner_two"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="24dp"
@@ -64,15 +65,22 @@
             android:layout_marginEnd="24dp"
             android:background="@drawable/edittext_grey_border"
             android:fontFamily="@font/montserrat_medium"
-            android:hint="Phone Number"
-            android:inputType="phone"
-            android:maxLength="10"
+            android:hint="Winner 2 ID"
             android:padding="16dp"
             android:textColor="@color/colorBlack"
             android:textSize="14sp" />
-
+        <ProgressBar
+            android:id="@+id/progress_bar"
+            style="?android:attr/progressBarStyle"
+            android:layout_margin="18dp"
+            android:indeterminateDrawable="@drawable/circle"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:visibility="gone"
+            tools:progress="60" />
         <Button
-            android:id="@+id/signUpAdmin"
+            android:visibility="visible"
+            android:id="@+id/add_draw_winner"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="24dp"
@@ -80,7 +88,7 @@
             android:layout_marginEnd="24dp"
             android:background="@drawable/button_rounded_corners_blue"
             android:fontFamily="@font/montserrat_bold"
-            android:text="Create Admin"
+            android:text="Add Winners"
             android:textAllCaps="false"
             android:textColor="@color/colorWhite"
             android:textSize="16sp" />
Index: app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<adaptive-icon xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <background android:drawable=\"@drawable/ic_launcher_background\" />\n    <foreground android:drawable=\"@drawable/ic_launcher_foreground\" />\n</adaptive-icon>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml	(date 1614003108000)
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8"?>
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
-    <background android:drawable="@drawable/ic_launcher_background" />
-    <foreground android:drawable="@drawable/ic_launcher_foreground" />
+    <background android:drawable="@mipmap/ic_launcher_background" />
+    <foreground android:drawable="@mipmap/ic_launcher_foreground" />
 </adaptive-icon>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_splash.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/colorPrimary\">\n\n        <ImageView\n            android:id=\"@+id/logo_splash\"\n            android:layout_width=\"128dp\"\n            android:layout_height=\"128dp\"\n            android:layout_centerInParent=\"true\"\n            android:scaleType=\"centerCrop\"\n            android:src=\"@drawable/logo\" />\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Admin\"\n            android:textColor=\"@color/colorWhite\"\n            android:textSize=\"18sp\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_marginBottom=\"24dp\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"16dp\"\n            android:fontFamily=\"@font/montserrat_bold\" />\n\n    </RelativeLayout>\n\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_splash.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_splash.xml	(date 1614330039000)
@@ -9,8 +9,8 @@
 
         <ImageView
             android:id="@+id/logo_splash"
-            android:layout_width="128dp"
-            android:layout_height="128dp"
+            android:layout_width="140dp"
+            android:layout_height="140dp"
             android:layout_centerInParent="true"
             android:scaleType="centerCrop"
             android:src="@drawable/logo" />
Index: app/src/main/res/layout/fragment_user_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\n\n    <FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\">\n\n        <androidx.coordinatorlayout.widget.CoordinatorLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"true\">\n\n            <com.google.android.material.appbar.AppBarLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@color/colorPrimary\"\n                android:fitsSystemWindows=\"true\">\n\n                <com.google.android.material.appbar.CollapsingToolbarLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:fitsSystemWindows=\"true\"\n                    app:contentScrim=\"@color/colorPrimary\"\n                    app:layout_scrollFlags=\"scroll|exitUntilCollapsed\">\n\n\n                    <ImageView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"210dp\"\n                        android:scaleType=\"fitXY\"\n                        android:src=\"@drawable/dashboard_background\"\n                        app:layout_collapseMode=\"parallax\" />\n\n                    <RelativeLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\">\n\n                        <de.hdodenhof.circleimageview.CircleImageView\n                            android:id=\"@+id/user_photo_dashboard\"\n                            android:layout_width=\"64dp\"\n                            android:layout_height=\"64dp\"\n                            android:layout_alignParentEnd=\"true\"\n                            android:layout_margin=\"24dp\" />\n\n                        <TextView\n                            android:id=\"@+id/user_name_dashboard\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_below=\"@id/user_photo_dashboard\"\n                            android:layout_marginStart=\"16dp\"\n                            android:layout_marginTop=\"4dp\"\n                            android:fontFamily=\"@font/montserrat_bold\"\n                            android:text=\"Loading...\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:textSize=\"24sp\" />\n\n                        <TextView\n                            android:id=\"@+id/user_id_dashboard\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_below=\"@id/user_name_dashboard\"\n                            android:layout_marginStart=\"16dp\"\n                            android:layout_marginTop=\"4dp\"\n                            android:fontFamily=\"@font/montserrat_medium\"\n                            android:text=\"Loading...\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:textSize=\"16sp\" />\n\n                        <TextView\n                            android:id=\"@+id/last_login_dashboard\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_below=\"@id/user_id_dashboard\"\n                            android:layout_marginStart=\"16dp\"\n                            android:layout_marginTop=\"4dp\"\n                            android:layout_marginBottom=\"24dp\"\n                            android:fontFamily=\"@font/montserrat_regular\"\n                            android:text=\"Loading...\"\n                            android:textColor=\"@color/colorWhite\"\n                            android:textSize=\"14sp\" />\n\n                    </RelativeLayout>\n\n\n                </com.google.android.material.appbar.CollapsingToolbarLayout>\n\n\n            </com.google.android.material.appbar.AppBarLayout>\n\n            <androidx.core.widget.NestedScrollView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:fillViewport=\"true\"\n                app:layout_behavior=\"com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior\">\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:orientation=\"vertical\"\n                    android:padding=\"16dp\">\n\n                    <TextView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:fontFamily=\"@font/montserrat_bold\"\n                        android:text=\"Plan Details\"\n                        android:textColor=\"@color/colorBlack\"\n                        android:textSize=\"16sp\" />\n\n\n                    <androidx.cardview.widget.CardView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"16dp\"\n                        app:cardCornerRadius=\"16dp\"\n                        app:cardElevation=\"0dp\">\n\n                        <LinearLayout\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"match_parent\"\n                            android:orientation=\"vertical\"\n                            android:padding=\"20dp\">\n\n\n                            <LinearLayout\n                                android:layout_width=\"match_parent\"\n                                android:layout_height=\"wrap_content\"\n                                android:orientation=\"horizontal\">\n\n                                <LinearLayout\n                                    android:layout_width=\"0dp\"\n                                    android:layout_height=\"wrap_content\"\n                                    android:layout_weight=\"1\"\n                                    android:orientation=\"vertical\">\n\n                                    <TextView\n                                        android:id=\"@+id/plan_name_progress\"\n                                        android:layout_width=\"wrap_content\"\n                                        android:layout_height=\"wrap_content\"\n                                        android:fontFamily=\"@font/montserrat_bold\"\n                                        android:text=\"Loading...\"\n                                        android:textColor=\"@color/colorPrimary\"\n                                        android:textSize=\"16sp\" />\n\n                                    <TextView\n                                        android:id=\"@+id/plan_desc_progress\"\n                                        android:layout_width=\"wrap_content\"\n                                        android:layout_height=\"wrap_content\"\n                                        android:layout_below=\"@id/plan_name_progress\"\n                                        android:fontFamily=\"@font/montserrat_medium\"\n                                        android:text=\"Plan Description in 2 lines\"\n                                        android:textSize=\"12sp\" />\n\n                                </LinearLayout>\n\n                                <ImageView\n                                    android:layout_width=\"48dp\"\n                                    android:layout_height=\"48dp\"\n                                    android:layout_alignParentEnd=\"true\"\n                                    android:layout_marginStart=\"12dp\"\n                                    android:src=\"@drawable/gold\" />\n\n\n                            </LinearLayout>\n\n                            <ProgressBar\n                                android:id=\"@+id/plan_progress\"\n                                style=\"@style/Widget.AppCompat.ProgressBar.Horizontal\"\n                                android:layout_width=\"match_parent\"\n                                android:layout_height=\"10dp\"\n                                android:layout_marginTop=\"8dp\"\n                                android:layout_marginBottom=\"4dp\"\n                                android:progressDrawable=\"@drawable/gradient_progress\"\n                                tools:progress=\"70\" />\n\n                            <LinearLayout\n                                android:layout_width=\"match_parent\"\n                                android:layout_height=\"wrap_content\"\n                                android:orientation=\"horizontal\">\n\n                                <TextView\n                                    android:id=\"@+id/progress_percentage\"\n                                    android:layout_width=\"0dp\"\n                                    android:layout_height=\"wrap_content\"\n                                    android:layout_weight=\"1\"\n                                    android:fontFamily=\"@font/montserrat_medium\"\n                                    android:text=\"Loading...\"\n                                    android:textSize=\"12sp\" />\n\n                                <TextView\n                                    android:id=\"@+id/progress_percentage_months\"\n                                    android:layout_width=\"0dp\"\n                                    android:layout_height=\"wrap_content\"\n                                    android:layout_weight=\"1\"\n                                    android:fontFamily=\"@font/montserrat_medium\"\n                                    android:text=\"Loading...\"\n                                    android:textAlignment=\"textEnd\"\n                                    android:textSize=\"12sp\" />\n\n\n                            </LinearLayout>\n\n\n                        </LinearLayout>\n\n\n                    </androidx.cardview.widget.CardView>\n\n                    <TextView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"24dp\"\n                        android:fontFamily=\"@font/montserrat_bold\"\n                        android:text=\"User Transactions\"\n                        android:textColor=\"@color/colorBlack\"\n                        android:textSize=\"16sp\" />\n\n                    <in.savitar.smjewelsadmin.mvp.utils.NonScrollingListView\n                        android:id=\"@+id/transactions_list\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"\n                        android:layout_marginTop=\"16dp\"\n                        android:divider=\"@null\"\n                        android:nestedScrollingEnabled=\"true\"\n                        android:scrollbars=\"none\" />\n\n                </LinearLayout>\n\n\n            </androidx.core.widget.NestedScrollView>\n\n\n        </androidx.coordinatorlayout.widget.CoordinatorLayout>\n\n\n    </FrameLayout>\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_user_profile.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_user_profile.xml	(date 1614343735000)
@@ -27,29 +27,28 @@
 
                     <ImageView
                         android:layout_width="match_parent"
-                        android:layout_height="210dp"
+                        android:layout_height="240dp"
                         android:scaleType="fitXY"
-                        android:src="@drawable/dashboard_background"
+                        android:src="@drawable/bg_blue"
                         app:layout_collapseMode="parallax" />
 
-                    <RelativeLayout
+                    <LinearLayout
                         android:layout_width="match_parent"
-                        android:layout_height="match_parent">
-
+                        android:layout_height="match_parent"
+                        android:orientation="vertical">
                         <de.hdodenhof.circleimageview.CircleImageView
                             android:id="@+id/user_photo_dashboard"
-                            android:layout_width="64dp"
-                            android:layout_height="64dp"
-                            android:layout_alignParentEnd="true"
-                            android:layout_margin="24dp" />
+                            android:layout_width="160dp"
+                            android:layout_height="132dp"
+                            android:layout_gravity="center"
+                            android:layout_marginTop="32dp" />
 
                         <TextView
                             android:id="@+id/user_name_dashboard"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
-                            android:layout_below="@id/user_photo_dashboard"
-                            android:layout_marginStart="16dp"
-                            android:layout_marginTop="4dp"
+                            android:layout_gravity="center"
+                            android:layout_marginTop="8dp"
                             android:fontFamily="@font/montserrat_bold"
                             android:text="Loading..."
                             android:textColor="@color/colorWhite"
@@ -59,28 +58,17 @@
                             android:id="@+id/user_id_dashboard"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
-                            android:layout_below="@id/user_name_dashboard"
-                            android:layout_marginStart="16dp"
+                            android:layout_gravity="center"
                             android:layout_marginTop="4dp"
+                            android:layout_marginBottom="4dp"
                             android:fontFamily="@font/montserrat_medium"
                             android:text="Loading..."
                             android:textColor="@color/colorWhite"
                             android:textSize="16sp" />
 
-                        <TextView
-                            android:id="@+id/last_login_dashboard"
-                            android:layout_width="wrap_content"
-                            android:layout_height="wrap_content"
-                            android:layout_below="@id/user_id_dashboard"
-                            android:layout_marginStart="16dp"
-                            android:layout_marginTop="4dp"
-                            android:layout_marginBottom="24dp"
-                            android:fontFamily="@font/montserrat_regular"
-                            android:text="Loading..."
-                            android:textColor="@color/colorWhite"
-                            android:textSize="14sp" />
 
-                    </RelativeLayout>
+                    </LinearLayout>
+
 
 
                 </com.google.android.material.appbar.CollapsingToolbarLayout>
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/main_container\"/>\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/activity_main.xml	(date 1615796196000)
@@ -4,8 +4,8 @@
     xmlns:tools="http://schemas.android.com/tools">
 
     <FrameLayout
+        android:id="@+id/main_container"
         android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:id="@+id/main_container"/>
+        android:layout_height="match_parent" />
 
 </layout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\n\n    <androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#ffffff\">\n\n        <FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\">\n\n            <LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\">\n\n\n                <com.denzcoskun.imageslider.ImageSlider\n                    android:id=\"@+id/loginSlider\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\"\n                    android:layout_weight=\"1\"\n                    app:corner_radius=\"12\"\n                    app:delay=\"0\"\n                    app:auto_cycle=\"true\"\n                    app:period=\"1000\"\n                    android:layout_marginBottom=\"16dp\"\n                    app:placeholder=\"@drawable/error\">\n\n                </com.denzcoskun.imageslider.ImageSlider>\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\"\n                    android:layout_weight=\"1\"\n                    android:orientation=\"vertical\"\n                    android:layout_centerInParent=\"true\"\n                    android:layout_margin=\"36dp\">\n\n                    <ImageView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:src=\"@drawable/logo\"\n                        android:layout_gravity=\"center_horizontal\" />\n\n                    <EditText\n                        android:layout_gravity=\"center_horizontal\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_marginTop=\"24dp\"\n                        android:hint=\"Admin ID\"\n                        android:fontFamily=\"@font/montserrat_medium\"\n                        android:textSize=\"14sp\"\n                        android:backgroundTint=\"@color/colorPrimary\"\n                        android:drawableLeft=\"@drawable/ic_baseline_account_circle_24\"\n                        android:drawablePadding=\"16dp\"\n                        android:textColor=\"@color/colorBlack\"\n                        android:id=\"@+id/user_id_et\" />\n\n                    <Button\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:background=\"@drawable/button_rounded_corners_blue\"\n                        android:layout_marginTop=\"16dp\"\n                        android:layout_gravity=\"center_horizontal\"\n                        android:text=\"Get Otp\"\n                        android:textColor=\"@color/colorWhite\"\n                        android:fontFamily=\"@font/montserrat_bold\"\n                        android:textAllCaps=\"false\"\n                        android:id=\"@+id/get_otp\" />\n\n                    <ProgressBar\n                        android:id=\"@+id/progress_bar\"\n                        style=\"?android:attr/progressBarStyle\"\n                        android:layout_margin=\"18dp\"\n                        android:indeterminateDrawable=\"@drawable/circle\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:visibility=\"gone\"\n                        tools:progress=\"60\" />\n\n\n                </LinearLayout>\n\n\n            </LinearLayout>\n\n            <com.google.android.gms.ads.AdView\n                android:id=\"@+id/loginAdBanner\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal|bottom\"\n                app:adSize=\"BANNER\"\n                app:adUnitId=\"@string/dummy_ad_ID\"></com.google.android.gms.ads.AdView>\n\n\n        </FrameLayout>\n\n\n        <include\n            layout=\"@layout/otp_bottom_sheet\"\n            android:id=\"@+id/bottom_sheet\" />\n\n    </androidx.coordinatorlayout.widget.CoordinatorLayout>\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_login.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/fragment_login.xml	(date 1614330755000)
@@ -8,101 +8,104 @@
         android:layout_height="match_parent"
         android:background="#ffffff">
 
-        <FrameLayout
-            android:layout_width="match_parent"
-            android:layout_height="match_parent">
-
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="match_parent"
-                android:orientation="vertical">
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:orientation="vertical">
 
 
-                <com.denzcoskun.imageslider.ImageSlider
-                    android:id="@+id/loginSlider"
-                    android:layout_width="match_parent"
-                    android:layout_height="0dp"
-                    android:layout_weight="1"
-                    app:corner_radius="12"
-                    app:delay="0"
-                    app:auto_cycle="true"
-                    app:period="1000"
-                    android:layout_marginBottom="16dp"
-                    app:placeholder="@drawable/error">
+            <com.denzcoskun.imageslider.ImageSlider
+                android:id="@+id/loginSlider"
+                android:layout_width="match_parent"
+                android:layout_height="0dp"
+                android:layout_weight="1"
+                app:corner_radius="8"
+                app:delay="0"
+                android:scaleType="fitXY"
+                app:auto_cycle="true"
+                app:period="1000"
+                android:layout_marginBottom="16dp"
+                app:placeholder="@drawable/smj1">
 
-                </com.denzcoskun.imageslider.ImageSlider>
+            </com.denzcoskun.imageslider.ImageSlider>
 
-                <LinearLayout
-                    android:layout_width="match_parent"
-                    android:layout_height="0dp"
-                    android:layout_weight="1"
-                    android:orientation="vertical"
-                    android:layout_centerInParent="true"
-                    android:layout_margin="36dp">
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="0dp"
+                android:layout_weight="1"
+                android:orientation="vertical"
+                android:layout_centerInParent="true"
+                android:layout_margin="36dp">
 
-                    <ImageView
-                        android:layout_width="wrap_content"
-                        android:layout_height="wrap_content"
-                        android:src="@drawable/logo"
-                        android:layout_gravity="center_horizontal" />
-
-                    <EditText
-                        android:layout_gravity="center_horizontal"
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:layout_marginTop="24dp"
-                        android:hint="Admin ID"
-                        android:fontFamily="@font/montserrat_medium"
-                        android:textSize="14sp"
-                        android:backgroundTint="@color/colorPrimary"
-                        android:drawableLeft="@drawable/ic_baseline_account_circle_24"
-                        android:drawablePadding="16dp"
-                        android:textColor="@color/colorBlack"
-                        android:id="@+id/user_id_et" />
+                <ImageView
+                    android:layout_width="108dp"
+                    android:layout_height="108dp"
+                    android:src="@drawable/logo"
+                    android:layout_gravity="center_horizontal" />
+                <EditText
+                    android:layout_gravity="center_horizontal"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="24dp"
+                    android:hint="User ID"
+                    android:backgroundTint="@color/colorPrimary"
+                    android:fontFamily="@font/montserrat_medium"
+                    android:textSize="14sp"
+                    android:drawableLeft="@drawable/ic_baseline_account_circle_24"
+                    android:drawablePadding="16dp"
+                    android:textColor="@color/colorBlack"
+                    android:id="@+id/user_id_et"/>
 
-                    <Button
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:background="@drawable/button_rounded_corners_blue"
-                        android:layout_marginTop="16dp"
-                        android:layout_gravity="center_horizontal"
-                        android:text="Get Otp"
-                        android:textColor="@color/colorWhite"
-                        android:fontFamily="@font/montserrat_bold"
-                        android:textAllCaps="false"
-                        android:id="@+id/get_otp" />
-
-                    <ProgressBar
-                        android:id="@+id/progress_bar"
-                        style="?android:attr/progressBarStyle"
-                        android:layout_margin="18dp"
-                        android:indeterminateDrawable="@drawable/circle"
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:visibility="gone"
-                        tools:progress="60" />
-
+
+                <Button
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:background="@drawable/button_rounded_corners_blue"
+                    android:layout_marginTop="16dp"
+                    android:layout_gravity="center_horizontal"
+                    android:text="Get Otp"
+                    android:textColor="@color/colorWhite"
+                    android:fontFamily="@font/montserrat_bold"
+                    android:textAllCaps="false"
+                    android:id="@+id/get_otp"
+                    android:visibility="visible"/>
+                <ProgressBar
+                    android:id="@+id/progress_bar"
+                    style="?android:attr/progressBarStyle"
+                    android:layout_margin="18dp"
+                    android:indeterminateDrawable="@drawable/circle"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:visibility="gone"
+                    tools:progress="60" />
+                <LinearLayout
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="bottom|center_horizontal"
+                    android:orientation="horizontal"
+                    android:layout_marginTop="24dp"
+                    android:visibility="visible">
 
                 </LinearLayout>
 
 
+
             </LinearLayout>
 
             <com.google.android.gms.ads.AdView
+                android:visibility="gone"
                 android:id="@+id/loginAdBanner"
-                android:layout_width="match_parent"
+                android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:layout_gravity="center_horizontal|bottom"
                 app:adSize="BANNER"
-                app:adUnitId="@string/dummy_ad_ID"></com.google.android.gms.ads.AdView>
+                app:adUnitId="@string/dummy_ad_ID" />
 
 
-        </FrameLayout>
+        </LinearLayout>
 
-
-        <include
-            layout="@layout/otp_bottom_sheet"
-            android:id="@+id/bottom_sheet" />
+        <include layout="@layout/otp_bottom_sheet"
+            android:id="@+id/bottom_sheet"/>
 
     </androidx.coordinatorlayout.widget.CoordinatorLayout>
 
Index: app/src/main/res/layout/otp_bottom_sheet.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <LinearLayout\n        android:id=\"@+id/bottom_sheet_otp\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#ffffff\"\n        android:orientation=\"vertical\"\n        android:padding=\"16dp\"\n        app:behavior_peekHeight=\"0dp\"\n        app:behavior_hideable=\"true\"\n        app:layout_behavior=\"com.google.android.material.bottomsheet.BottomSheetBehavior\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\">\n\n            <ImageView\n                android:layout_width=\"64dp\"\n                android:layout_height=\"58dp\"\n                android:layout_gravity=\"center_horizontal\"\n                android:src=\"@drawable/ic_otp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:fontFamily=\"@font/montserrat_bold\"\n                android:text=\"OTP Sent\"\n                android:textColor=\"@color/colorBlack\"\n                android:textSize=\"16sp\" />\n\n            <TextView\n                android:id=\"@+id/otp_message_view\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"16dp\"\n                android:fontFamily=\"@font/montserrat_medium\"\n                android:text=\"@string/otp_message\"\n                android:textAlignment=\"center\"\n                android:textSize=\"14sp\" />\n\n            <EditText\n                android:id=\"@+id/otp_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center_horizontal\"\n                android:layout_marginTop=\"24dp\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"16dp\"\n                android:textColor=\"@color/colorBlack\"\n                android:background=\"@drawable/edittext_grey_border\"\n                android:padding=\"12dp\"\n                android:hint=\"Enter OTP\"\n                android:textAlignment=\"center\"\n                android:fontFamily=\"@font/montserrat_medium\"\n                android:maxLength=\"6\"/>\n\n            <ProgressBar\n                android:id=\"@+id/progress_bar_otp\"\n                style=\"?android:attr/progressBarStyle\"\n                android:layout_margin=\"18dp\"\n                android:indeterminateDrawable=\"@drawable/circle\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:visibility=\"gone\"\n                tools:progress=\"60\" />\n            <Button\n                android:id=\"@+id/verify_otp\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"24dp\"\n                android:layout_marginBottom=\"16dp\"\n                android:background=\"@drawable/button_rounded_corners_blue\"\n                android:fontFamily=\"@font/montserrat_bold\"\n                android:text=\"Verify OTP\"\n                android:textAllCaps=\"false\"\n                android:visibility=\"visible\"\n                android:textColor=\"@color/colorWhite\" />\n\n        </LinearLayout>\n\n    </LinearLayout>\n\n\n</layout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/otp_bottom_sheet.xml	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/res/layout/otp_bottom_sheet.xml	(date 1614330607000)
@@ -21,7 +21,7 @@
 
             <ImageView
                 android:layout_width="64dp"
-                android:layout_height="58dp"
+                android:layout_height="64dp"
                 android:layout_gravity="center_horizontal"
                 android:src="@drawable/ic_otp" />
 
@@ -62,15 +62,6 @@
                 android:fontFamily="@font/montserrat_medium"
                 android:maxLength="6"/>
 
-            <ProgressBar
-                android:id="@+id/progress_bar_otp"
-                style="?android:attr/progressBarStyle"
-                android:layout_margin="18dp"
-                android:indeterminateDrawable="@drawable/circle"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:visibility="gone"
-                tools:progress="60" />
             <Button
                 android:id="@+id/verify_otp"
                 android:layout_width="match_parent"
@@ -81,9 +72,16 @@
                 android:fontFamily="@font/montserrat_bold"
                 android:text="Verify OTP"
                 android:textAllCaps="false"
-                android:visibility="visible"
                 android:textColor="@color/colorWhite" />
-
+            <ProgressBar
+                android:id="@+id/progress_bar_otp"
+                style="?android:attr/progressBarStyle"
+                android:layout_margin="18dp"
+                android:indeterminateDrawable="@drawable/circle"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:visibility="gone"
+                tools:progress="60" />
         </LinearLayout>
 
     </LinearLayout>
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Login/LoginFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Login;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\n\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.Gravity;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.denzcoskun.imageslider.models.SlideModel;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.gms.tasks.TaskExecutors;\nimport com.google.android.material.bottomsheet.BottomSheetBehavior;\nimport com.google.firebase.FirebaseException;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseAuthInvalidCredentialsException;\nimport com.google.firebase.auth.PhoneAuthCredential;\nimport com.google.firebase.auth.PhoneAuthProvider;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\nimport es.dmoral.toasty.Toasty;\nimport in.aabhasjindal.otptextview.OtpTextView;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentLoginBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.splash.SplashContract;\nimport in.savitar.smjewelsadmin.mvp.ui.splash.SplashPresenter;\nimport in.savitar.smjewelsadmin.mvp.utils.NavigationUtil;\n\n\n\npublic class LoginFragment extends Fragment implements SplashContract.View {\n\n    SplashPresenter mPresenter;\n    FragmentLoginBinding mBinding;\n\n    //Bottom Sheet References\n    OtpTextView otpTextView;\n    Button verifyOtp;\n    TextView otpTextMessage;\n    private BottomSheetBehavior sheetBehavior;\n    private LinearLayout bottom_sheet;\n    private String mVerificationId;\n    FirebaseAuth mAuth;\n    private ProgressBar progress;\n\n    private String userUniqueID;\n    private String Name;\n\n    String phoneNumber;\n\n\n    public LoginFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_login, container, false);\n        mPresenter = new SplashPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n        //Initialize Ad Banner\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mBinding.loginAdBanner.loadAd(adRequest);\n\n\n        mAuth = FirebaseAuth.getInstance();\n        //Bottom Sheet\n        sheetBehavior = BottomSheetBehavior.from(mBinding.bottomSheet.bottomSheetOtp);\n        sheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n        mBinding.getOtp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (TextUtils.isEmpty(mBinding.userIdEt.getText()) || mBinding.userIdEt.getText().length() < 9) {\n                    mBinding.userIdEt.setError(\"Invalid ID\");\n                } else {\n                    getPhoneNumber(mBinding.userIdEt.getText().toString());\n                }\n            }\n        });\n\n        //Verify OTP Button\n        mBinding.bottomSheet.verifyOtp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (mBinding.bottomSheet.otpView.getText().toString().length() < 5)\n                {\n                    Toast toasty=Toast.makeText(getContext(), \"Enter OTP\", Toast.LENGTH_LONG);\n                    toasty.setGravity(Gravity.CENTER, 0, 0);\n                    toasty.show();\n                } else {\n                    verifyVerificationCode(mBinding.bottomSheet.otpView.getText().toString());\n                }\n            }\n        });\n\n        displayImageSlider();\n\n\n    }\n\n    //To Load and display images into image slider\n    private void displayImageSlider() {\n        List<SlideModel> slideModels = new ArrayList<>();\n        slideModels.add(new SlideModel(\"https://images.freekaamaal.com/post_images/1569908385.png\"));\n        slideModels.add(new SlideModel(\"https://images.freekaamaal.com/post_images/1569908385.png\"));\n        slideModels.add(new SlideModel(\"https://images.freekaamaal.com/post_images/1569908385.png\"));\n        slideModels.add(new SlideModel(\"https://images.freekaamaal.com/post_images/1569908385.png\"));\n        mBinding.loginSlider.setImageList(slideModels, true);\n    }\n\n    public void getPhoneNumber(final String userID) {\n        mBinding.progressBar.setVisibility(View.VISIBLE);\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n        DatabaseReference databaseReference = firebaseDatabase.getReference().child(\"AdminInfo\");\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.hasChild(userID)) {\n                    phoneNumber = snapshot.child(userID).child(\"Phone\").getValue(String.class);\n                    //Toast.makeText(context,\"Phone Number=>\"+phoneNumber,Toast.LENGTH_LONG).show();\n                    Name = snapshot.child(userID).child(\"Name\").getValue(String.class);\n                    Toasty.info(getContext(),\"Hellow\"+Name+\" An OTP will be sent to your number\",Toasty.LENGTH_SHORT).show();\n                    //userUniqueID = snapshot.child(userID).child(\"UserID\").getValue(String.class);\n                    sendOtp(phoneNumber); // Sending OTP to the number\n                } else {\n                    Toasty.error(getContext(), \"Admin Does not exist. Please Register\", Toast.LENGTH_SHORT).show();\n                    mBinding.progressBar.setVisibility(View.GONE);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    private void sendOtp(String phoneNumber) {\n        mBinding.progressBar.setVisibility(View.VISIBLE);\n        PhoneAuthProvider.getInstance().verifyPhoneNumber(\n                \"+91\" + phoneNumber,        // Phone number to verify\n                60,                 // Timeout duration\n                TimeUnit.SECONDS,   // Unit of timeout\n                TaskExecutors.MAIN_THREAD,   // Activity (for callback binding)\n                mCallbacks);\n    }\n\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks mCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n\n        @Override\n        public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\n            //progress.setVisibility(View.GONE);\n            mBinding.progressBar.setVisibility(View.GONE);\n            Toasty.success(getContext(), \"verification completed\", Toast.LENGTH_SHORT).show();\n            String code = phoneAuthCredential.getSmsCode();\n            if (code != null) {\n                mBinding.bottomSheet.otpView.setText(code);\n                //progress.setVisibility(View.GONE);\n                //verifyOtp.setEnabled(true);\n                //verifyButton.setBackgroundColor(getColor(R.color.primaryTrans));\n            }\n        }\n\n        @Override\n        public void onVerificationFailed(@NonNull FirebaseException e) {\n            //progress.setVisibility(View.GONE);\n            mBinding.progressBar.setVisibility(View.GONE);\n            Toasty.error(getContext(), \"verification failed\", Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n            mBinding.progressBar.setVisibility(View.VISIBLE);\n            super.onCodeSent(s, forceResendingToken);\n            sheetBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);\n            mVerificationId = s;\n            mBinding.progressBar.setVisibility(View.GONE);\n            mBinding.bottomSheet.otpMessageView.append(\" \" + phoneNumber);\n            Toasty.info(getContext(), \"OTP sent\", Toast.LENGTH_SHORT).show();\n        }\n    };\n\n    private void verifyVerificationCode(String code) {\n        //creating the credential\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(mVerificationId, code);\n        //signing the user\n        signInWithPhoneAuthCredential(credential);\n\n    }\n\n    private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\n\n        mAuth.signInWithCredential(credential).addOnCompleteListener(getActivity(), new OnCompleteListener<AuthResult>() {\n            @Override\n            public void onComplete(@NonNull Task<AuthResult> task) {\n                try {\n                    if (task.isSuccessful()) {\n                        //Code to set user session\n                        saveUserID(); //Saves user ID and plan Name in shared preferences\n                        NavigationUtil.INSTANCE.toMainActivity();\n                    } else {\n\n                        String message = \"Somthing is wrong, we will fix it soon...\";\n                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\n\n                            // message = \"Incorrect OTP\";\n\n                            Toast toasty=Toast.makeText(getContext(), \"Incorrect OTP\", Toast.LENGTH_LONG);\n                            toasty.setGravity(Gravity.CENTER, 0, 0);\n                            toasty.show();\n\n                        }\n                    }\n                } catch (Exception e) {\n                    Log.v(\"TAG\", \"OTP Exception\" + e);\n                    Toast.makeText(getContext(),\"Enter OTP\",Toast.LENGTH_SHORT);\n                }\n            }\n        });\n\n    }\n\n    private void saveUserID() { // Save user ID and Plan Name in shared Preferences for future use\n        SharedPreferences preferences = getActivity().getSharedPreferences(\"MyPrefs\", Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putString(\"UserID\", mBinding.userIdEt.getText().toString());\n        editor.commit();\n    }\n\n    @Override\n    public void onSuccess(String message) {\n\n    }\n\n    @Override\n    public void onFailure(String message) {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Login/LoginFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Login/LoginFragment.java	(date 1614331031000)
@@ -93,9 +93,7 @@
         init();
         return mBinding.getRoot();
     }
-
     private void init() {
-
         //Initialize Ad Banner
         AdRequest adRequest = new AdRequest.Builder().build();
         mBinding.loginAdBanner.loadAd(adRequest);
@@ -108,7 +106,8 @@
         mBinding.getOtp.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
-                if (TextUtils.isEmpty(mBinding.userIdEt.getText()) || mBinding.userIdEt.getText().length() < 9) {
+
+                if (TextUtils.isEmpty(mBinding.userIdEt.getText())) {
                     mBinding.userIdEt.setError("Invalid ID");
                 } else {
                     getPhoneNumber(mBinding.userIdEt.getText().toString());
@@ -119,12 +118,14 @@
         //Verify OTP Button
         mBinding.bottomSheet.verifyOtp.setOnClickListener(new View.OnClickListener() {
             @Override
-            public void onClick(View view) {
-                if (mBinding.bottomSheet.otpView.getText().toString().length() < 5)
+            public void onClick(View view)
+            {
+                if(TextUtils.isEmpty(mBinding.bottomSheet.otpView.getText()))
                 {
-                    Toast toasty=Toast.makeText(getContext(), "Enter OTP", Toast.LENGTH_LONG);
-                    toasty.setGravity(Gravity.CENTER, 0, 0);
-                    toasty.show();
+                    mBinding.bottomSheet.otpView.setError("Enter OTP");
+                }
+                else if (mBinding.bottomSheet.otpView.getText().toString().length() < 5) {
+                    Toast.makeText(getContext(), "Invalid OTP", Toast.LENGTH_SHORT).show();
                 } else {
                     verifyVerificationCode(mBinding.bottomSheet.otpView.getText().toString());
                 }
@@ -133,21 +134,43 @@
 
         displayImageSlider();
 
+        //Create Account
+      /*  mBinding.createAccount.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                NavigationUtil.INSTANCE.toCreateAccount();
+            }
+        });*/
+
 
     }
+    public void progress_visiblity()
+    {
+        mBinding.progressBar.setVisibility(View.VISIBLE);
+        mBinding.getOtp.setVisibility(View.GONE);
 
+        // mBinding.createAccount.setVisibility(View.GONE);
+    }
+    public void progress_hidden()
+    {
+        mBinding.progressBar.setVisibility(View.GONE);
+        mBinding.getOtp.setVisibility(View.VISIBLE);
+
+        // mBinding.createAccount.setVisibility(View.VISIBLE);
+    }
     //To Load and display images into image slider
     private void displayImageSlider() {
         List<SlideModel> slideModels = new ArrayList<>();
-        slideModels.add(new SlideModel("https://images.freekaamaal.com/post_images/1569908385.png"));
-        slideModels.add(new SlideModel("https://images.freekaamaal.com/post_images/1569908385.png"));
-        slideModels.add(new SlideModel("https://images.freekaamaal.com/post_images/1569908385.png"));
-        slideModels.add(new SlideModel("https://images.freekaamaal.com/post_images/1569908385.png"));
+        slideModels.add(new SlideModel("https://smjewels.in/wp-content/uploads/2019/04/web-banner01.jpg"));
+        slideModels.add(new SlideModel("https://smjewels.in/wp-content/uploads/2019/04/web-banner02.jpg"));
+        slideModels.add(new SlideModel("https://smjewels.in/wp-content/uploads/2019/04/web-banner03.jpg"));
+        slideModels.add(new SlideModel("https://smjewels.in/wp-content/uploads/2019/04/g-5.jpg"));
+        slideModels.add(new SlideModel("https://smjewels.in/wp-content/uploads/2019/04/g-3.jpg"));
         mBinding.loginSlider.setImageList(slideModels, true);
     }
 
     public void getPhoneNumber(final String userID) {
-        mBinding.progressBar.setVisibility(View.VISIBLE);
+        progress_visiblity();
         FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
         DatabaseReference databaseReference = firebaseDatabase.getReference().child("AdminInfo");
         databaseReference.addValueEventListener(new ValueEventListener() {
@@ -157,12 +180,12 @@
                     phoneNumber = snapshot.child(userID).child("Phone").getValue(String.class);
                     //Toast.makeText(context,"Phone Number=>"+phoneNumber,Toast.LENGTH_LONG).show();
                     Name = snapshot.child(userID).child("Name").getValue(String.class);
-                    Toasty.info(getContext(),"Hellow"+Name+" An OTP will be sent to your number",Toasty.LENGTH_SHORT).show();
+                    Toasty.success(getContext(),"Hello "+Name+" \nAn OTP will be sent to your number",Toasty.LENGTH_SHORT).show();
                     //userUniqueID = snapshot.child(userID).child("UserID").getValue(String.class);
                     sendOtp(phoneNumber); // Sending OTP to the number
                 } else {
                     Toasty.error(getContext(), "Admin Does not exist. Please Register", Toast.LENGTH_SHORT).show();
-                    mBinding.progressBar.setVisibility(View.GONE);
+                    progress_hidden();
                 }
             }
 
@@ -220,6 +243,8 @@
 
     private void verifyVerificationCode(String code) {
         //creating the credential
+        mBinding.bottomSheet.progressBarOtp.setVisibility(View.VISIBLE);
+        mBinding.bottomSheet.verifyOtp.setVisibility(View.GONE);
         PhoneAuthCredential credential = PhoneAuthProvider.getCredential(mVerificationId, code);
         //signing the user
         signInWithPhoneAuthCredential(credential);
@@ -234,24 +259,28 @@
                 try {
                     if (task.isSuccessful()) {
                         //Code to set user session
-                        saveUserID(); //Saves user ID and plan Name in shared preferences
+                        saveUserID();
+                        //Saves user ID and plan Name in shared preferences
                         NavigationUtil.INSTANCE.toMainActivity();
-                    } else {
 
+                    }
+                    else
+                    {
                         String message = "Somthing is wrong, we will fix it soon...";
-                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {
 
-                            // message = "Incorrect OTP";
+                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException)
+                        {
+                            message = "Incorrect OTP";
+                            Toast.makeText(getActivity(), message, Toast.LENGTH_LONG).show();
 
-                            Toast toasty=Toast.makeText(getContext(), "Incorrect OTP", Toast.LENGTH_LONG);
-                            toasty.setGravity(Gravity.CENTER, 0, 0);
-                            toasty.show();
-
+                            mBinding.bottomSheet.progressBarOtp.setVisibility(View.GONE);
+                            mBinding.bottomSheet.verifyOtp.setVisibility(View.VISIBLE);
                         }
                     }
                 } catch (Exception e) {
                     Log.v("TAG", "OTP Exception" + e);
-                    Toast.makeText(getContext(),"Enter OTP",Toast.LENGTH_SHORT);
+                    Toast.makeText(getContext(), "Incorrect OTP", Toast.LENGTH_LONG).show();
+
                 }
             }
         });
Index: app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Account/AccountFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package in.savitar.smjewelsadmin.mvp.ui.Account;\n\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport es.dmoral.toasty.Toasty;\nimport in.savitar.smjewelsadmin.R;\nimport in.savitar.smjewelsadmin.databinding.FragmentAccountBinding;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityContract;\nimport in.savitar.smjewelsadmin.mvp.ui.Dashboard.MainActivityPresenter;\nimport in.savitar.smjewelsadmin.mvp.ui.DialogFragments.UpdateGoldDialogFragment;\n\n\npublic class AccountFragment extends Fragment  implements MainActivityContract.View {\n\n    FragmentAccountBinding mBinding;\n    MainActivityPresenter mPresenter;\n\n    public AccountFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        mBinding = DataBindingUtil.inflate(inflater,R.layout.fragment_account,container,false);\n        mPresenter = new MainActivityPresenter(this);\n        init();\n        return mBinding.getRoot();\n    }\n\n    private void init() {\n\n        mBinding.logOutProfile.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mPresenter.signOut(getActivity());\n            }\n        });\n\n        mBinding.clearDaily.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                clearDaily();\n            }\n        });\n\n        mBinding.clearWeekly.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                clearWeekly();\n            }\n        });\n        \n        mBinding.clearMonthly.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                clearMonthly();\n            }\n        });\n\n        mBinding.updateGoldPrice.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                updateGoldPrice();\n            }\n        });\n\n        mBinding.addAdmin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                createAdmin();\n            }\n        });\n    }\n\n    private void createAdmin() {\n\n        AddAdminFragment dialogFragment = new AddAdminFragment();\n        FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();\n        Fragment prev = getActivity().getSupportFragmentManager().findFragmentByTag(\"dialog\");\n        if (prev != null) {\n            ft.remove(prev);\n        }\n        ft.addToBackStack(null);\n        dialogFragment.show(ft, \"dialog\");\n\n\n\n    }\n\n    private void updateGoldPrice() {\n\n        UpdateGoldDialogFragment dialogFragment = new UpdateGoldDialogFragment();\n        FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();\n        Fragment prev = getActivity().getSupportFragmentManager().findFragmentByTag(\"dialog\");\n        if (prev != null) {\n            ft.remove(prev);\n        }\n        ft.addToBackStack(null);\n        dialogFragment.show(ft, \"dialog\");\n\n    }\n\n    private void clearMonthly() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setTitle(\"Are you sure\");\n        builder.setMessage(\"You want to clear weekly earnings record?\");\n        builder.setPositiveButton(\"Clear\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n                DatabaseReference databaseReference = firebaseDatabase.getReference().child(\"WeeklyEarnings\");\n                databaseReference.setValue(0);\n                Toasty.success(getContext(),\"Monthly Record has been reset\").show();\n            }\n        });\n\n        builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                //Toast.makeText(getContext(), \"Cancel\", Toast.LENGTH_LONG).show();\n                dialog.dismiss();\n            }\n        });\n        builder.create();\n        builder.show();\n    }\n\n    private void clearWeekly() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setTitle(\"Are you sure\");\n        builder.setMessage(\"You want to clear weekly earnings record?\");\n        builder.setPositiveButton(\"Clear\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n                DatabaseReference databaseReference = firebaseDatabase.getReference().child(\"WeeklyEarnings\");\n                databaseReference.setValue(0);\n                Toasty.success(getContext(),\"Weekly Record has been reset\").show();\n            }\n        });\n\n        builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                //Toast.makeText(getContext(), \"Cancel\", Toast.LENGTH_LONG).show();\n                dialog.dismiss();\n            }\n        });\n        builder.create();\n        builder.show();\n    }\n\n    private void clearDaily() {\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setTitle(\"Are you sure\");\n        builder.setMessage(\"You want to clear daily earnings record?\");\n        builder.setPositiveButton(\"Clear\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n                DatabaseReference databaseReference = firebaseDatabase.getReference().child(\"MonthlyEarnings\");\n                databaseReference.setValue(0);\n                Toasty.success(getContext(),\"Daily Record has been reset\").show();\n            }\n        });\n\n        builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                //Toast.makeText(getContext(), \"Cancel\", Toast.LENGTH_LONG).show();\n                dialog.dismiss();\n            }\n        });\n        builder.create();\n        builder.show();\n\n    }\n\n    @Override\n    public void onSuccess() {\n\n    }\n\n    @Override\n    public void onFailure() {\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Account/AccountFragment.java	(revision 2dd388018517f8738e754a0ee44c8885ad995e1d)
+++ app/src/main/java/in/savitar/smjewelsadmin/mvp/ui/Account/AccountFragment.java	(date 1615360422000)
@@ -130,12 +130,12 @@
     private void clearMonthly() {
         AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
         builder.setTitle("Are you sure");
-        builder.setMessage("You want to clear weekly earnings record?");
+        builder.setMessage("You want to clear monthly earnings record?");
         builder.setPositiveButton("Clear", new DialogInterface.OnClickListener() {
             @Override
             public void onClick(DialogInterface dialog, int which) {
                 FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
-                DatabaseReference databaseReference = firebaseDatabase.getReference().child("WeeklyEarnings");
+                DatabaseReference databaseReference = firebaseDatabase.getReference().child("MonthlyEarnings");
                 databaseReference.setValue(0);
                 Toasty.success(getContext(),"Monthly Record has been reset").show();
             }
@@ -186,7 +186,7 @@
             @Override
             public void onClick(DialogInterface dialog, int which) {
                 FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
-                DatabaseReference databaseReference = firebaseDatabase.getReference().child("MonthlyEarnings");
+                DatabaseReference databaseReference = firebaseDatabase.getReference().child("DailyEarnings");
                 databaseReference.setValue(0);
                 Toasty.success(getContext(),"Daily Record has been reset").show();
             }
